<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width,initial-scale=1.0">
    <link rel="icon" href="/favicon.ico">
    <title><?=isset($__title)?$__title:"ERP"?> - ASA</title>
    <script src="https://unpkg.com/vue@2.6.9/dist/vue.js"></script>
    <script src="https://unpkg.com/vuex@3.1.0/dist/vuex.js"></script>
    <script src="https://unpkg.com/vue-router@2.0.0/dist/vue-router.js"></script>
    

    <!-- 引入样式 -->
    <link rel="stylesheet" href="https://unpkg.com/element-ui/lib/theme-chalk/index.css">
    <!-- 引入组件库 -->
    <script src="https://unpkg.com/element-ui/lib/index.js"></script>
    <script src="//cdnjs.cloudflare.com/ajax/libs/ramda/0.25.0/ramda.min.js"></script>
    <script src="/js/jquery.min.js"></script>
    <script src="/common/systemlanguage?<?=$__sytem_time?>"></script>
    <script src="/js/erp.js?<?=$__sytem_time?>"></script>
    <script src="/js/asa.js?<?=$__sytem_time?>"></script>
    <script src="/js/props.js?<?=$__sytem_time?>"></script>
  </head>

  <style>
  .el-row {
    margin-bottom: 20px;
    &:last-child {
      margin-bottom: 0;
    }
  }

  .bg-purple-dark {
    background: #99a9bf;
  }
  .bg-purple {
    background: #d3dce6;
  }
  .bg-purple-light {
    background: #e5e9f2;
  }
  .grid-content {
    border-radius: 4px;
    min-height: 36px;
  }
  .row-bg {
    padding: 10px 0;
    background-color: #f9fafc;
  }
  
  .el-menu-item a {
    color:white;
    text-decoration : none  
  }
  
  #ell{margin:5px;}


    .user-form .width2 .el-input__inner {
        width:200px;
    }

    .user-form  .width2 .el-input-group {
        width:200px;
    }
    
    .user-form .width1 .el-input__inner {
        width:510px;
    }
    
    .user-form .width1 .el-textarea__inner {
        width:510px;
    }
    
    .user-form .width2 .el-date-editor.el-input, .el-date-editor.el-input__inner {
        width:150px
    }

    .user-form .width2 .el-input-group .el-input__inner {
        width:155px;
    }
    .user-form .width2 .el-input-group--prepend .el-input__inner {
        width:99px;
    }

    .user-form /width2 .el-form-item__content {
        width:200px;
    }

    .el-form-item--mini.el-form-item, .el-form-item--small.el-form-item {
        margin-bottom: 5px;
    }

    .user-form .el-checkbox {
        margin-right:12px;
    }

    .user-form .el-checkbox__label {
        padding-left:4px;
    }

    .order-form .el-input__inner {
        width:200px;
    }

    .order-form .el-input-group {
        width:200px;
    }

    .order-form .el-input-group .el-input__inner {
        width:155px;
    }
    .order-form .el-input-group--prepend .el-input__inner {
        width:99px;
    }

    .order-form .el-form-item__content {
        width:200px;
    }

    .order-form .el-date-editor.el-input, .el-date-editor.el-input__inner {
        width:150px
    }

    .el-form-item--mini.el-form-item, .el-form-item--small.el-form-item {
        margin-bottom: 5px;
    }

    .order-form .el-checkbox {
        margin-right:12px;
    }

    .order-form .el-checkbox__label {
        padding-left:4px;
    }

    .login-container {
    /*box-shadow: 0 0px 8px 0 rgba(0, 0, 0, 0.06), 0 1px 0px 0 rgba(0, 0, 0, 0.02);*/
    -webkit-border-radius: 5px;
    border-radius: 5px;
    -moz-border-radius: 5px;
    background-clip: padding-box;
    margin: 180px auto;
    width: 350px;
    padding: 35px 35px 15px 35px;
    background: #fff;
    border: 1px solid #eaeaea;
    box-shadow: 0 0 25px #cac6c6;
    .title {
      margin: 0px auto 40px auto;
      text-align: center;
      color: #505458;
    }
    .remember {
      margin: 0px 0px 35px 0px;
    }
  }

  .avatar-uploader .el-upload {
    border: 1px dashed #d9d9d9;
    border-radius: 6px;
    cursor: pointer;
    position: relative;
    overflow: hidden;
  }
  .avatar-uploader .el-upload:hover {
    border-color: #409EFF;
  }
  .avatar-uploader-icon {
    font-size: 28px;
    color: #8c939d;
    width: 148px;
    height: 148px;
    line-height: 148px;
    text-align: center;
  }
  .avatar {
    width: 148px;
    height: 148px;
    display: block;
  }

</style>
<body>

  <div id="app">    
    <router-view></router-view>
  </div>

<script>
$(document).ready(function(){
    const routes = [
        {
            path: '/', component: "asapage-home",
            children:[
                {path: '/order', component: "asapage-order"},
                {path: '/sales', component: "asapage-sales"},
                {path: '/user', component: "asapage-user"},
                {path: '/group', component: "asapage-group"},
                {path: '/department', component: "asapage-department"},
                {path: '/brand', component: "asapage-brand"},
                {path: '/brandgroup', component: "asapage-brandgroup"},
                {path: '/sizetop', component: "asapage-sizetop"},
                {path: '/product', component: "asapage-product"},                
                {path:'/ageseason', component:$ASA.getComponentSimple("ageseason")},
                {path:'/ulnarinch', component:$ASA.getComponent("ulnarinch")},
                {path:'/winterproofing', component:$ASA.getComponent("winterproofing")},
                {path:'/washinginstructions', component:$ASA.getComponent("washinginstructions")},
                {path:'/securitycategory', component:$ASA.getComponent("securitycategory")},
                {path:'/executioncategory', component:$ASA.getComponent("executioncategory")},
                {path:'/closedway', component:$ASA.getComponent("closedway")},
                {path:'/occasionsstyle', component:$ASA.getComponent("occasionsstyle")},
                {path:'/productparts', component:$ASA.getComponent("productparts")},
                {path:'/productinnards', component:$ASA.getComponent("productinnards")},
                {path:'/warehouse', component:$ASA.getComponentSimple("warehouse")},
                {path:'/country', component:$ASA.getComponent("country")},
                {path:'/materialnote', component:$ASA.getComponent("materialnote")},
                {path:'/materialstatus', component:$ASA.getComponent("materialstatus")},
                {path:'/material', component:$ASA.getComponent("material")},
                {path:'/producttemplate', component:"asapage-producttemplate"},
                {path:'/member', component:$ASA.getComponentSimple("member")},
                {path:'/colortemplate', component:$ASA.getComponent("colortemplate")},
                {path:'/supplier', component:$ASA.getComponentSimple("supplier")}
            ]
        },
        {path: '/login/:action', component: "asapage-login"},
        {path: '/login', redirect: { path: '/login/login' }}
    ]

    const router = new VueRouter({
        routes // (缩写) 相当于 routes: routes
    })

    const store = new Vuex.Store({
      state: {
          auth:{}
      },
      getters: {
          is_login(state) {
              var auth = state.auth
              if( auth['id'] && auth['id']>0) {
                  return true;
              }
              else {
                  return false;
              }
          }
      },
      mutations:{
          login(state,payload) {
              state.auth = payload.auth;
          },
          logout(state,payload) {
              state.auth = {}
          }
      }
    })

    const app = new Vue({
        router,
        store,
        mounted:function(){
          //console.log(this.$options.components)
        }
    }).$mount('#app')
    
})
</script>
  </body>
</html>
