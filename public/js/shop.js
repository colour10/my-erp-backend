!function(e){function t(o){if(a[o])return a[o].exports;var n=a[o]={i:o,l:!1,exports:{}};return e[o].call(n.exports,n,n.exports,t),n.l=!0,n.exports}var a={};t.m=e,t.c=a,t.d=function(e,a,o){t.o(e,a)||Object.defineProperty(e,a,{configurable:!1,enumerable:!0,get:o})},t.n=function(e){var a=e&&e.__esModule?function(){return e.default}:function(){return e};return t.d(a,"a",a),a},t.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},t.p="/dist/",t(t.s=144)}({0:function(e,t,a){"use strict";a.d(t,"b",function(){return n});var o=$ASA.$,n=function(e){return"undefined"!=typeof $ASAL&&$ASAL[e]?$ASAL[e]:""},i=Object.assign,r=function(e){return function(){var t=Array.prototype.slice.call(arguments);t.unshift("old <"+e+">"),console.log.apply(console,t)}};t.a={$:o,getLabel:n,logger:r,extend:i}},10:function(e,t,a){"use strict";var o=function(e){this.getList=function(){return e}};o.prototype.findIndex=function(e,t){return this.getList().findIndex(function(a){if("string"==typeof e)return a[e]==t;for(var o=0;o<e.length;o++)if(a[e[o][0]]!=e[1])return!1;return!0})},t.a=o},11:function(e,t,a){"use strict";var o={};"undefined"==typeof $ASAL&&($ASAL={}),o["test.hashtable"]={hashtable:{SS:"春夏",FW:"秋冬",XX:"经典"}},o["test.hashlist"]={hashlist:{SS:{tname:"春夏",tvalue:"SS"},FW:{tname:"秋冬",tvalue:"FW"},XX:{tname:"经典",tvalue:"XX"}},oplabel:"tname",opvalue:"tvalue"},o["test.datalist"]={datalist:[{tname:"春夏",tvalue:"SS"},{tname:"秋冬",tvalue:"FW"},{tname:"经典",tvalue:"XX"}],oplabel:"tname",opvalue:"tvalue"},o.brand={url:"/l/brand",oplabel:"name",opvalue:"id"},o.country={url:"/l/country",oplabel:"name",opvalue:"id"},o.colortemplate={url:"/l/colortemplate",oplabel:"name",opvalue:"id"},o.brandgroup={url:"/l/brandgroup",oplabel:"name",opvalue:"id"},o.group={url:"/l/group",oplabel:"group_name",opvalue:"id"},o.user={url:"/l/user",oplabel:"login_name",opvalue:"id"},o["department.single"]={url:"/department/single",oplabel:"label",opvalue:"id"},o.childproductgroup={url:"/l/childproductgroup",oplabel:"name",opvalue:"id"},o.materialstatus={url:"/l/materialstatus",oplabel:"name",opvalue:"id"},o.occasionsstyle={url:"/l/occasionsstyle",oplabel:"name",opvalue:"id"},o.ulnarinch={url:"/l/ulnarinch",oplabel:"name",opvalue:"id"},o.ageseason={url:"/l/ageseason",oplabel:"fullname",opvalue:"id"},o.aliases={url:"/l/aliases",oplabel:"name",opvalue:"id"},o.winterproofing={url:"/l/winterproofing",oplabel:"name",opvalue:"id"},o.sizetop={url:"/l/sizetop",oplabel:"name",opvalue:"id"},o.sizecontent={url:"/l/sizecontent",oplabel:"content",opvalue:"id"},o.member={url:"/l/member",oplabel:"name",opvalue:"id"},o.executioncategory={url:"/l/executioncategory",oplabel:"name",opvalue:"id"},o.securitycategory={url:"/l/securitycategory",oplabel:"name",opvalue:"id"},o.closedway={url:"/l/closedway",oplabel:"name",opvalue:"id"},o.warehouse={url:"/l/warehouse",oplabel:"name",opvalue:"id"},o.supplier={url:"/l/supplier",oplabel:"suppliername",opvalue:"id"},o.saleport={url:"/l/saleport",oplabel:"name",opvalue:"id"},o.usersaleport={url:"/user/saleportlist",oplabel:"name",opvalue:"id"},o.userwarehouse={url:"/warehouse/userlist",oplabel:"name",opvalue:"id"},o.gender={hashtable:$ASAL.list_gender},o.gender2={hashtable:$ASAL.list_gender2},o.currency={hashlist:$ASAL.list_currency,oplabel:"name",opvalue:"id"},o.season={hashtable:$ASAL.list_season},o.orderproperty={hashtable:$ASAL.list_orderproperty},o.bussinesstype={hashlist:$ASAL.list_bussinesstype,oplabel:"name",opvalue:"id"},o.sessionmark={hashtable:{SS:"SS",FW:"FW",XX:"XX"}},o.seasontype={hashtable:{0:"Pre",1:"Main",2:"Fashion"}},o.formtype={hashtable:$ASAL.list_formtype},o.languages={hashlist:$ASAL.list_languages,oplabel:"name",opvalue:"code"},o.pickingtype={hashtable:$ASAL.list_pickingtype},o.expresspaidtype={hashtable:$ASAL.list_expresspaidtype},o.transporttype={hashtable:$ASAL.list_transporttype},o.paytype={hashtable:$ASAL.list_paytype},o.salestatus={hashtable:$ASAL.list_salestatus},o.orderstatus={hashtable:$ASAL.list_ordertatus},o.confirmstatusstatus={hashtable:$ASAL.list_confirmstatusstatus},o.requisitiontype={hashtable:$ASAL.list_requisitiontype},o.requisitionstatus={hashtable:$ASAL.list_requisitionstatus},o.warehouserole={hashtable:$ASAL.list_warehouserole},t.a=o},144:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=a(2),n=a(4);"undefined"!=typeof window&&(void 0===window.ASAP&&(window.ASAP={}),window.ASAP.getLabel=function(e,t,a,n){o.a.getDataSource(e,t).getRowLabels(a,n)},window.ASAP.product=function(e,t){n.e.get(e,t,1)}),t.default={}},2:function(e,t,a){"use strict";function o(e,t){var a=this;a.row=e,a.dataSource=t}function n(e,t){var a=this;a.lang=t,a.data=[],a.hashtable={},a.options=e,a.oplabel=e.oplabel||"name",a.opvalue=e.opvalue||"value",a.is_loaded=!1}var i=a(11),r=a(8),l={};o.prototype.getKeyValue=function(){var e=this.dataSource.getValueName();return this.row[e]},o.prototype.getLabelValue=function(){var e=this,t=e.dataSource.getLabelName(),a=e.dataSource.getLang();return e.row[t]||e.row[t+"_"+a]},o.prototype.getLabel=o.prototype.getLabelValue,o.prototype.getValue=o.prototype.getKeyValue,o.prototype.getRow=function(e){return e?this.row[e]:this.row},o.prototype.getObject=function(){return{id:this.getValue(),name:this.getLabel()}},n.prototype.init=function(){var e=this,t=e.options;t.url?e.loadList():t.hashlist?(Object.keys(t.hashlist).forEach(function(a){var n=new o(t.hashlist[a],e);e.data.push(n),e.hashtable[a]=n}),e.is_loaded=!0):t.hashtable?(Object.keys(t.hashtable).forEach(function(a){var n=new o({name:t.hashtable[a],value:a},e);e.data.push(n),e.hashtable[a]=n}),e.oplabel="name",e.opvalue="value",e.is_loaded=!0):t.datalist&&(t.datalist.forEach(function(t){var a=new o(t,e);e.hashtable[t[e.opvalue]]=a,e.data.push(a)}),e.is_loaded=!0)},n.prototype.loadList=function(){var e=this,t=e.options;t.params;Object(r.a)(t.url,function(t){t.data.forEach(function(t){var a=new o(t,e);e.hashtable[t[e.opvalue]]=a,e.data.push(a)}),e.is_loaded=!0},"json")},n.prototype.getData=function(e){var t=this;!function a(){t.is_loaded?e(t.data):setTimeout(a,50)}()},n.prototype.filter=function(e,t){this.getData(function(a){var o=Object.keys(e),n=a.filter(function(t){return o.every(function(a){return e[a]==t.getRow(a)})});t(n)})},n.prototype.sub=function(e,t){var a=this;a.getData(function(o){var i=Object.keys(e),r=o.filter(function(t){return i.every(function(a){return e[a]==t.getRow(a)})}),r=r.map(function(e){return e.getRow()}),l=new n({datalist:r,oplabel:a.oplabel,opvalue:a.opvalue},a.lang);l.init(),t(l)})},n.prototype.getLabelName=function(e){return this.oplabel},n.prototype.getValueName=function(e){return this.opvalue},n.prototype.setLang=function(e){this.lang=e},n.prototype.getLang=function(){return this.lang},n.prototype.setLabelName=function(e){this.oplabel=e},n.prototype.getLabelList=function(e,t){this.getData(function(a){var o=e.map(function(e){return a.find(function(t){return e==t.getValue()})}).filter(function(e){return e}).map(function(e){return e.getLabel()});t(o)})},n.prototype.getRow=function(e,t){var a=this;!function o(){a.is_loaded?t(a.hashtable[e]):setTimeout(o,50)}()},n.prototype.getRowLabel=function(e,t){this.getRow(e,function(e){t(e?e.getLabelValue():"")})},n.prototype.getRowLabels=function(e,t){e="string"==typeof e?e.split(","):e,this.getLabelList(e,function(e){t(e.join(","))})},n.getDataSource=function(e,t){if(e.constructor==n)return e;if(l[e])return l[e].setLang(t),l[e];return"string"==typeof e?function(){if(!i.a[e])throw"资源未定义:"+e;return l[e]=new n(i.a[e],t),l[e].init(),l[e]}():function(){return new n(i.a[e],t)}()},t.a=n},4:function(e,t,a){"use strict";a.d(t,"d",function(){return g}),a.d(t,"e",function(){return c}),a.d(t,"f",function(){return d}),a.d(t,"c",function(){return s}),a.d(t,"b",function(){return f}),a.d(t,"a",function(){return b});var o=a(2),n=(a(10),a(7)),i=a(0),r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},l=function(e){return{get:function(e,t,a){var o=this;a=a||0,"object"==(void 0===e?"undefined":r(e))?a<=0?t(e):o.init(a,e,t):o.fetch(a,e,t)},fetch:function(t,a,o){var i=this;Object(n.a)(e)(a,function(e){t<=0?o(e):i.init(t,e,o)})},init:function(e,t,a){a(t)}}},u=l("warehouse"),s=Object.assign(l("product"),{init:function(e,t,a){var n=[],r=o.a.getDataSource("sizecontent",Object(i.b)("lang"));n.push(new Promise(function(e){r.filter({topid:t.sizetopid},e)})),Promise.all(n).then(function(e){t.sizecontents=e[0],a(t)})}}),c=Object.assign(l("product"),{init:function(e,t,a){var n=[],r=o.a.getDataSource("sizecontent",Object(i.b)("lang"));n.push(new Promise(function(e){r.filter({topid:t.sizetopid},e)}));var l=o.a.getDataSource("childproductgroup",Object(i.b)("lang"));n.push(new Promise(function(e){l.getRowLabel(t.childbrand,e)}));var u=o.a.getDataSource("brandgroup",Object(i.b)("lang"));n.push(new Promise(function(e){u.getRowLabel(t.brandgroupid,e)}));var s=o.a.getDataSource("country",Object(i.b)("lang"));n.push(new Promise(function(e){s.getRowLabels(t.countries,e)}));var c=o.a.getDataSource("colortemplate",Object(i.b)("lang"));n.push(new Promise(function(e){c.getRowLabels(t.brandcolor,e)}));var p=o.a.getDataSource("executioncategory",Object(i.b)("lang"));n.push(new Promise(function(e){p.getRowLabels(t.executioncategory,e)}));var d=o.a.getDataSource("securitycategory",Object(i.b)("lang"));n.push(new Promise(function(e){d.getRowLabels(t.securitycategory,e)}));var f=o.a.getDataSource("season",Object(i.b)("lang"));n.push(new Promise(function(e){f.getRowLabels(t.season,e)}));var b=o.a.getDataSource("ageseason",Object(i.b)("lang"));n.push(new Promise(function(e){b.getRowLabels(t.ageseason,e)}));var g=o.a.getDataSource("materialstatus",Object(i.b)("lang"));n.push(new Promise(function(e){g.getRowLabels(t.materialstatus,e)}));var h=o.a.getDataSource("occasionsstyle",Object(i.b)("lang"));n.push(new Promise(function(e){h.getRowLabels(t.occasion,e)})),Promise.all(n).then(function(e){t.sizecontents=e[0],t.childbrand_label=e[1],t.brandgroup_label=e[2],t.countries_label=e[3],t.brandcolor_label=e[4],t.executioncategory_label=e[5],t.securitycategory_label=e[6],t.season_label=e[7],t.ageseason_label=e[8],t.materialstatus_label=e[9],t.occasion_label=e[10],a(t)})}}),p=l("goods"),d=Object.assign(l("productstock"),{init:function(e,t,a){var n=[];n.push(new Promise(function(a){s.get(t.productid,a,e-1)})),n.push(new Promise(function(a){u.get(t.warehouseid,a,e-1)}));var r=o.a.getDataSource("sizecontent",Object(i.b)("lang"));n.push(new Promise(function(e){r.getRow(t.sizecontentid,function(t){e(t)})})),n.push(new Promise(function(a){p.get(t.goodsid,a,e-1)})),Promise.all(n).then(function(e){t.product=e[0],t.warehouse=e[1],t.sizecontent=e[2],t.goods=e[3],a(t)})}}),f=Object.assign(l("orderdetails"),{init:function(e,t,a){var n=[];n.push(new Promise(function(a){s.get(t.productid,a,e-1)}));var r=o.a.getDataSource("sizecontent",Object(i.b)("lang"));n.push(new Promise(function(e){r.getRow(t.sizecontentid,function(t){e(t)})})),Promise.all(n).then(function(e){t.product=e[0],t.sizecontent=e[1],a(t)})}}),b=Object.assign(l("confirmorderdetails"),{init:function(e,t,a){var o=[];o.push(new Promise(function(a){f.get(t.orderdetailsid,a,e-1)})),Promise.all(o).then(function(e){t.orderdetails=e[0],a(t)})}}),g=function(e,t){$ASA.post("/product/codelist",{id:e},function(e){t(e.data)},"json")}},7:function(e,t,a){"use strict";a.d(t,"a",function(){return i});var o=a(8),n={list:{},temp:{},result:{},loading:!1},i=function(e){n.list[e]||(n.list[e]={},n.temp[e]={},n.result[e]={});n.list[e],n.temp[e],n.result[e];return function(t,a){n.result[e][t]?a(n.result[e][t]):(n.loading?n.temp[e][t]=1:n.list[e][t]=1,setTimeout(function i(){if(n.result[e][t])a(n.result[e][t]);else if(n.loading)setTimeout(i,100);else{n.loading=!0;var r={};Object.keys(n.list).forEach(function(e){r[e]=Object.keys(n.list[e])}),Object(o.b)("/common/loadname",{params:JSON.stringify(r)},function(o){Object.keys(o).forEach(function(e){var t=o[e];n.result[e]=Object.assign(n.result[e],t),n.list[e]=n.temp[e],n.temp[e]={}}),n.loading=!1,a(n.result[e][t])},"json")}},100))}}},8:function(e,t,a){"use strict";a.d(t,"a",function(){return n}),a.d(t,"b",function(){return i});var o={},n=function(e,t){if(o[e])if(0==o[e].loaded){!function a(){o[e]&&1==o[e].loaded?t(o[e].data):setTimeout(a,50)}()}else t(o[e].data);else o[e]={loaded:!1},$ASA.get(e,function(a){o[e].loaded=!0,o[e].data=a,t(a)},"json")},i=$ASA.post}});
//# sourceMappingURL=shop.js.map