!function(t){function e(o){if(n[o])return n[o].exports;var a=n[o]={i:o,l:!1,exports:{}};return t[o].call(a.exports,a,a.exports,e),a.l=!0,a.exports}var n={};e.m=t,e.c=n,e.d=function(t,n,o){e.o(t,n)||Object.defineProperty(t,n,{configurable:!1,enumerable:!0,get:o})},e.n=function(t){var n=t&&t.__esModule?function(){return t.default}:function(){return t};return e.d(n,"a",n),n},e.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},e.p="/dist/",e(e.s=67)}({0:function(t,e,n){"use strict";n.d(e,"c",function(){return o}),n.d(e,"b",function(){return p});var o=function(t){return"undefined"!=typeof $ASAL&&$ASAL[t]?$ASAL[t]:""},a=Object.assign,i=function(t){return function(){var e=Array.prototype.slice.call(arguments);e.unshift("old <"+t+">"),console.log.apply(console,e)}},r=function(t){var e={};return Object.keys(t).forEach(function(n){e[n]=t[n]}),e},u=function(t,e){Object.keys(e).forEach(function(n){void 0!==t[n]&&(e[n]=t[n])})},s=function(t){return Object.keys(t).forEach(function(e){t[e]=""}),t},l=function(t,e){if(t>0){var n=Math.pow(10,e);return Math.round(t*n)/n}return""},c=function(t,e){for(var n=0;n<t.length;n++)if(t[n]==e){t.splice(n,1);break}return t},p=function(t,e){var n={};return e.forEach(function(e){return n[e]=t[e]}),n};e.a={getLabel:o,logger:i,extend:a,clone:r,empty:s,round:l,deleteObject:c,copyTo:u,extract:p}},11:function(t,e,n){"use strict";var o=n(0),a=o.c,i={};i["test.hashtable"]={hashtable:{SS:"春夏",FW:"秋冬",XX:"经典"}},i["test.hashlist"]={hashlist:{SS:{tname:"春夏",tvalue:"SS"},FW:{tname:"秋冬",tvalue:"FW"},XX:{tname:"经典",tvalue:"XX"}},oplabel:"tname",opvalue:"tvalue"},i["test.datalist"]={datalist:[{tname:"春夏",tvalue:"SS"},{tname:"秋冬",tvalue:"FW"},{tname:"经典",tvalue:"XX"}],oplabel:"tname",opvalue:"tvalue"},i.brand={url:"/l/brand",oplabel:"name",opvalue:"id"},i.country={url:"/l/country",oplabel:"name",opvalue:"id"},i.colortemplate={url:"/l/colortemplate",oplabel:"name",opvalue:"id"},i.brandgroup={url:"/l/brandgroup",oplabel:"name",opvalue:"id"},i.group={url:"/l/group",oplabel:"group_name",opvalue:"id"},i.user={url:"/l/user",oplabel:"login_name",opvalue:"id"},i["department.single"]={url:"/department/single",oplabel:"label",opvalue:"id"},i.brandgroupchild={url:"/l/brandgroupchild",oplabel:"name",opvalue:"id"},i.ulnarinch={url:"/l/ulnarinch",oplabel:"name",opvalue:"id"},i.ageseason={url:"/l/ageseason",oplabel:"fullname",opvalue:"id"},i.aliases={url:"/l/aliases",oplabel:"name",opvalue:"id"},i.sizetop={url:"/l/sizetop",oplabel:"name",opvalue:"id"},i.sizecontent={url:"/l/sizecontent",oplabel:"content",opvalue:"id"},i.member={url:"/l/member",oplabel:"name",opvalue:"id"},i.warehouse={url:"/l/warehouse",oplabel:"name",opvalue:"id"},i.supplier={url:"/l/supplier",oplabel:"suppliername",opvalue:"id"},i.saleport={url:"/l/saleport",oplabel:"name",opvalue:"id"},i.usersaleport={url:"/user/saleportlist",oplabel:"name",opvalue:"id"},i.userwarehouse={url:"/warehouse/userlist",oplabel:"name",opvalue:"id"},i.gender={hashtable:a("list_gender")},i.gender2={hashtable:a("list_gender2")},i.currency={hashlist:a("list_currency"),oplabel:"name",opvalue:"id"},i.season={hashtable:a("list_season")},i.orderproperty={hashtable:a("list_orderproperty")},i.bussinesstype={hashlist:a("list_bussinesstype"),oplabel:"name",opvalue:"id"},i.sessionmark={hashtable:{SS:"SS",FW:"FW",XX:"XX"}},i.seasontype={hashtable:{0:"Pre",1:"Main",2:"Fashion"}},i.formtype={hashtable:a("list_formtype")},i.languages={hashlist:a("list_languages"),oplabel:"name",opvalue:"code"},i.pickingtype={hashtable:a("list_pickingtype")},i.expresspaidtype={hashtable:a("list_expresspaidtype")},i.transporttype={hashtable:a("list_transporttype")},i.paytype={hashtable:a("list_paytype")},i.salestatus={hashtable:a("list_salestatus")},i.orderstatus={hashtable:a("list_ordertatus")},i.confirmstatusstatus={hashtable:a("list_confirmstatusstatus")},i.requisitiontype={hashtable:a("list_requisitiontype")},i.requisitionstatus={hashtable:a("list_requisitionstatus")},i.warehouserole={hashtable:a("list_warehouserole")},i.suppliertype={hashtable:a("list_suppliertype")},e.a=i},12:function(t,e){t.exports=jQuery},2:function(t,e,n){"use strict";function o(t,e){var n=this;n.row=t,n.dataSource=e}function a(t,e){var n=this;n.lang=e,n.data=[],n.hashtable={},n.options=t,n.oplabel=t.oplabel||"name",n.opvalue=t.opvalue||"value",n.is_loaded=!1}var i=n(11),r=n(4),u={};o.prototype.getKeyValue=function(){var t=this.dataSource.getValueName();return this.row[t]},o.prototype.getLabelValue=function(){var t=this,e=t.dataSource.getLabelName(),n=t.dataSource.getLang();return t.row[e]||t.row[e+"_"+n]},o.prototype.getLabel=o.prototype.getLabelValue,o.prototype.getValue=o.prototype.getKeyValue,o.prototype.getRow=function(t){return t?this.row[t]:this.row},o.prototype.getObject=function(){return{id:this.getValue(),name:this.getLabel()}},a.prototype.init=function(){var t=this,e=t.options;e.url?t.loadList():e.hashlist?(Object.keys(e.hashlist).forEach(function(n){var a=new o(e.hashlist[n],t);t.data.push(a),t.hashtable[n]=a}),t.is_loaded=!0):e.hashtable?(Object.keys(e.hashtable).forEach(function(n){var a=new o({name:e.hashtable[n],value:n},t);t.data.push(a),t.hashtable[n]=a}),t.oplabel="name",t.opvalue="value",t.is_loaded=!0):e.datalist&&(e.datalist.forEach(function(e){var n=new o(e,t);t.hashtable[e[t.opvalue]]=n,t.data.push(n)}),t.is_loaded=!0)},a.prototype.loadList=function(){var t=this,e=t.options;e.params;Object(r.b)(e.url,function(e){e.data.forEach(function(e){var n=new o(e,t);t.hashtable[e[t.opvalue]]=n,t.data.push(n)}),t.is_loaded=!0},"json")},a.prototype.getData=function(t){var e=this;!function n(){e.is_loaded?t(e.data):setTimeout(n,50)}()},a.prototype.filter=function(t,e){this.getData(function(n){var o=Object.keys(t),a=n.filter(function(e){return o.every(function(n){return t[n]==e.getRow(n)})});e(a)})},a.prototype.sub=function(t,e){var n=this;n.getData(function(o){var i=Object.keys(t),r=o.filter(function(e){return i.every(function(n){return t[n]==e.getRow(n)})}),r=r.map(function(t){return t.getRow()}),u=new a({datalist:r,oplabel:n.oplabel,opvalue:n.opvalue},n.lang);u.init(),e(u)})},a.prototype.getLabelName=function(t){return this.oplabel},a.prototype.getValueName=function(t){return this.opvalue},a.prototype.setLang=function(t){this.lang=t},a.prototype.getLang=function(){return this.lang},a.prototype.setLabelName=function(t){this.oplabel=t},a.prototype.getRow=function(t,e){var n=this;!function o(){n.is_loaded?e(n.hashtable[t]):setTimeout(o,50)}()},a.prototype.getRowLabel=function(t,e){this.getRow(t,function(t){e(t?t.getLabelValue():"")})},a.prototype.getRows=function(t,e){t="string"==typeof t?t.split(","):t,this.getData(function(n){var o=t.map(function(t){return n.find(function(e){return t==e.getValue()})}).filter(function(t){return t});e(o)})},a.prototype.getRowLabels=function(t,e){this.getRows(t,function(t){e(t.map(function(t){return t.getLabel()}).join(","))})},a.getDataSource=function(t,e){if(t.constructor==a)return t;if(u[t])return u[t].setLang(e),u[t];return"string"==typeof t?function(){if(!i.a[t])throw"资源未定义:"+t;return u[t]=new a(i.a[t],e),u[t].init(),u[t]}():function(){return new a(i.a[t],e)}()},e.a=a},3:function(t,e,n){"use strict";n.d(e,"d",function(){return g}),n.d(e,"e",function(){return p}),n.d(e,"f",function(){return f}),n.d(e,"c",function(){return c}),n.d(e,"b",function(){return h}),n.d(e,"a",function(){return b});var o=n(2),a=(n(9),n(7)),i=n(0),r=n(4),u="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},s=function(t){return{get:function(t,e,n){var o=this;n=n||0,"object"==(void 0===t?"undefined":u(t))?n<=0?e(t):o.init(n,t,e):o.fetch(n,t,e)},fetch:function(e,n,o){var i=this;Object(a.a)(t)(n,function(t){e<=0?o(t):i.init(e,t,o)})},init:function(t,e,n){n(e)}}},l=s("warehouse"),c=Object.assign(s("product"),{init:function(t,e,n){var a=[],r=o.a.getDataSource("sizecontent",Object(i.c)("lang"));a.push(new Promise(function(t){r.filter({topid:e.sizetopid},t)})),Promise.all(a).then(function(t){e.sizecontents=t[0],n(e)})}}),p=Object.assign(s("product"),{init:function(t,e,n){var a=[],r=o.a.getDataSource("sizecontent",Object(i.c)("lang"));a.push(new Promise(function(t){r.filter({topid:e.sizetopid},t)}));var u=o.a.getDataSource("brandgroupchild",Object(i.c)("lang"));a.push(new Promise(function(t){u.getRowLabel(e.childbrand,t)}));var s=o.a.getDataSource("brandgroup",Object(i.c)("lang"));a.push(new Promise(function(t){s.getRowLabel(e.brandgroupid,t)}));var l=o.a.getDataSource("country",Object(i.c)("lang"));a.push(new Promise(function(t){l.getRowLabels(e.countries,t)}));var c=o.a.getDataSource("colortemplate",Object(i.c)("lang"));a.push(new Promise(function(t){c.getRowLabels(e.brandcolor,t)}));var p=o.a.getDataSource("season",Object(i.c)("lang"));a.push(new Promise(function(t){p.getRowLabels(e.season,t)}));var d=o.a.getDataSource("ageseason",Object(i.c)("lang"));a.push(new Promise(function(t){d.getRowLabels(e.ageseason,t)})),a.push(new Promise(function(t){if(""==e.product_group)return void t([]);var n=e.product_group.split("|").map(function(t){return t.split(",")});c.getData(function(e){var o=n.map(function(t){var n=e.find(function(e){return t[1]==e.getValue()});return{id:t[0],colortemplateid:t[1],colorlabel:n.getLabel(),colorcode:n.row.code}});t(o)})})),Promise.all(a).then(function(t){e.sizecontents=t[0],e.childbrand_label=t[1],e.brandgroup_label=t[2],e.countries_label=t[3],e.brandcolor_label=t[4],e.season_label=t[5],e.ageseason_label=t[6],e.colors=t[7],n(e)})}}),d=s("goods"),f=Object.assign(s("productstock"),{init:function(t,e,n){var a=[];a.push(new Promise(function(n){c.get(e.productid,n,t-1)})),a.push(new Promise(function(n){l.get(e.warehouseid,n,t-1)}));var r=o.a.getDataSource("sizecontent",Object(i.c)("lang"));a.push(new Promise(function(t){r.getRow(e.sizecontentid,function(e){t(e)})})),a.push(new Promise(function(n){d.get(e.goodsid,n,t-1)})),Promise.all(a).then(function(t){e.product=t[0],e.warehouse=t[1],e.sizecontent=t[2],e.goods=t[3],n(e)})}}),h=Object.assign(s("orderdetails"),{init:function(t,e,n){var a=[];a.push(new Promise(function(n){c.get(e.productid,n,t-1)}));var r=o.a.getDataSource("sizecontent",Object(i.c)("lang"));a.push(new Promise(function(t){r.getRow(e.sizecontentid,function(e){t(e)})})),Promise.all(a).then(function(t){e.product=t[0],e.sizecontent=t[1],n(e)})}}),b=Object.assign(s("confirmorderdetails"),{init:function(t,e,n){var o=[];o.push(new Promise(function(n){h.get(e.orderdetailsid,n,t-1)})),Promise.all(o).then(function(t){e.orderdetails=t[0],n(e)})}}),g=function(t,e){Object(r.c)("/product/codelist",{id:t},function(t){e(t.data)},"json")}},4:function(t,e,n){"use strict";n.d(e,"b",function(){return u}),n.d(e,"c",function(){return s}),n.d(e,"a",function(){return r});var o=n(12),a=n.n(o),i=(window.ASAP,{}),r="http://erp.localhost.com",u=function(t,e){if(window.ASAP&&window.ASAP.$session_id){var n=window.ASAP.$session_id;t=t.indexOf("?")>=0?t+"&_session_id="+n:t+"?_session_id="+n}if(i[t])if(0==i[t].loaded){!function n(){i[t]&&1==i[t].loaded?e(i[t].data):setTimeout(n,50)}()}else e(i[t].data);else i[t]={loaded:!1},a.a.get(r+t,function(n){i[t].loaded=!0,i[t].data=n,e(n)},"json")},s=function(t,e,n){window.ASAP&&window.ASAP.$session_id&&(e._session_id=window.ASAP.$session_id),a.a.post(r+t,e,n,"json")}},67:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=n(2),a=n(3);"undefined"!=typeof window&&(void 0===window.ASAP&&(window.ASAP={}),window.ASAP.getLabel=function(t,e,n,a){o.a.getDataSource(t,e).getRowLabels(n,a)},window.ASAP.product=function(t,e){a.e.get(t,e,1)}),e.default={}},7:function(t,e,n){"use strict";n.d(e,"a",function(){return i});var o=n(4);void 0===window.ASAP&&(window.ASAP={}),window.ASAP.$store||(window.ASAP.$store={list:{},temp:{},result:{},loading:!1});var a=window.ASAP.$store,i=function(t){a.list[t]||(a.list[t]={},a.temp[t]={},a.result[t]={});a.list[t],a.temp[t],a.result[t];return function(e,n){a.result[t][e]?n(a.result[t][e]):(a.loading?a.temp[t][e]=1:a.list[t][e]=1,setTimeout(function i(){if(a.result[t][e])n(a.result[t][e]);else if(a.loading)setTimeout(i,100);else{a.loading=!0;var r={};Object.keys(a.list).forEach(function(t){r[t]=Object.keys(a.list[t])}),Object(o.c)("/common/loadname",{params:JSON.stringify(r)},function(o){Object.keys(o).forEach(function(t){var e=o[t];a.result[t]=Object.assign(a.result[t],e),a.list[t]=a.temp[t],a.temp[t]={}}),a.loading=!1,n(a.result[t][e])},"json")}},100))}}},9:function(t,e,n){"use strict";var o=function(t){this.getList=function(){return t}};o.prototype.findIndex=function(t,e){return this.getList().findIndex(function(n){if("string"==typeof t)return n[t]==e;for(var o=0;o<t.length;o++)if(n[t[o][0]]!=t[1])return!1;return!0})},e.a=o}});
//# sourceMappingURL=shop.js.map