!function(e){function t(o){if(n[o])return n[o].exports;var a=n[o]={i:o,l:!1,exports:{}};return e[o].call(a.exports,a,a.exports,t),a.l=!0,a.exports}var n={};t.m=e,t.c=n,t.d=function(e,n,o){t.o(e,n)||Object.defineProperty(e,n,{configurable:!1,enumerable:!0,get:o})},t.n=function(e){var n=e&&e.__esModule?function(){return e.default}:function(){return e};return t.d(n,"a",n),n},t.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},t.p="/dist/",t(t.s=65)}({0:function(e,t,n){"use strict";n.d(t,"b",function(){return o});var o=function(e){return"undefined"!=typeof $ASAL&&$ASAL[e]?$ASAL[e]:""},a=Object.assign,i=function(e){return function(){var t=Array.prototype.slice.call(arguments);t.unshift("old <"+e+">"),console.log.apply(console,t)}},r=function(e){var t={};return Object.keys(e).forEach(function(n){t[n]=e[n]}),t},s=function(e,t){Object.keys(t).forEach(function(n){void 0!==e[n]&&(t[n]=e[n])})},u=function(e){return Object.keys(e).forEach(function(t){e[t]=""}),e},l=function(e,t){if(e>0){var n=Math.pow(10,t);return Math.round(e*n)/n}return""},c=function(e,t){for(var n=0;n<e.length;n++)if(e[n]==t){e.splice(n,1);break}return e};t.a={getLabel:o,logger:i,extend:a,clone:r,empty:u,round:l,deleteObject:c,copyTo:s}},11:function(e,t,n){"use strict";var o=n(0),a=o.b,i={};i["test.hashtable"]={hashtable:{SS:"春夏",FW:"秋冬",XX:"经典"}},i["test.hashlist"]={hashlist:{SS:{tname:"春夏",tvalue:"SS"},FW:{tname:"秋冬",tvalue:"FW"},XX:{tname:"经典",tvalue:"XX"}},oplabel:"tname",opvalue:"tvalue"},i["test.datalist"]={datalist:[{tname:"春夏",tvalue:"SS"},{tname:"秋冬",tvalue:"FW"},{tname:"经典",tvalue:"XX"}],oplabel:"tname",opvalue:"tvalue"},i.brand={url:"/l/brand",oplabel:"name",opvalue:"id"},i.country={url:"/l/country",oplabel:"name",opvalue:"id"},i.colortemplate={url:"/l/colortemplate",oplabel:"name",opvalue:"id"},i.brandgroup={url:"/l/brandgroup",oplabel:"name",opvalue:"id"},i.group={url:"/l/group",oplabel:"group_name",opvalue:"id"},i.user={url:"/l/user",oplabel:"login_name",opvalue:"id"},i["department.single"]={url:"/department/single",oplabel:"label",opvalue:"id"},i.brandgroupchild={url:"/l/brandgroupchild",oplabel:"name",opvalue:"id"},i.ulnarinch={url:"/l/ulnarinch",oplabel:"name",opvalue:"id"},i.ageseason={url:"/l/ageseason",oplabel:"fullname",opvalue:"id"},i.aliases={url:"/l/aliases",oplabel:"name",opvalue:"id"},i.sizetop={url:"/l/sizetop",oplabel:"name",opvalue:"id"},i.sizecontent={url:"/l/sizecontent",oplabel:"content",opvalue:"id"},i.member={url:"/l/member",oplabel:"name",opvalue:"id"},i.warehouse={url:"/l/warehouse",oplabel:"name",opvalue:"id"},i.supplier={url:"/l/supplier",oplabel:"suppliername",opvalue:"id"},i.saleport={url:"/l/saleport",oplabel:"name",opvalue:"id"},i.usersaleport={url:"/user/saleportlist",oplabel:"name",opvalue:"id"},i.userwarehouse={url:"/warehouse/userlist",oplabel:"name",opvalue:"id"},i.gender={hashtable:a("list_gender")},i.gender2={hashtable:a("list_gender2")},i.currency={hashlist:a("list_currency"),oplabel:"name",opvalue:"id"},i.season={hashtable:a("list_season")},i.orderproperty={hashtable:a("list_orderproperty")},i.bussinesstype={hashlist:a("list_bussinesstype"),oplabel:"name",opvalue:"id"},i.sessionmark={hashtable:{SS:"SS",FW:"FW",XX:"XX"}},i.seasontype={hashtable:{0:"Pre",1:"Main",2:"Fashion"}},i.formtype={hashtable:a("list_formtype")},i.languages={hashlist:a("list_languages"),oplabel:"name",opvalue:"code"},i.pickingtype={hashtable:a("list_pickingtype")},i.expresspaidtype={hashtable:a("list_expresspaidtype")},i.transporttype={hashtable:a("list_transporttype")},i.paytype={hashtable:a("list_paytype")},i.salestatus={hashtable:a("list_salestatus")},i.orderstatus={hashtable:a("list_ordertatus")},i.confirmstatusstatus={hashtable:a("list_confirmstatusstatus")},i.requisitiontype={hashtable:a("list_requisitiontype")},i.requisitionstatus={hashtable:a("list_requisitionstatus")},i.warehouserole={hashtable:a("list_warehouserole")},t.a=i},12:function(e,t){e.exports=jQuery},2:function(e,t,n){"use strict";function o(e,t){var n=this;n.row=e,n.dataSource=t}function a(e,t){var n=this;n.lang=t,n.data=[],n.hashtable={},n.options=e,n.oplabel=e.oplabel||"name",n.opvalue=e.opvalue||"value",n.is_loaded=!1}var i=n(11),r=n(5),s={};o.prototype.getKeyValue=function(){var e=this.dataSource.getValueName();return this.row[e]},o.prototype.getLabelValue=function(){var e=this,t=e.dataSource.getLabelName(),n=e.dataSource.getLang();return e.row[t]||e.row[t+"_"+n]},o.prototype.getLabel=o.prototype.getLabelValue,o.prototype.getValue=o.prototype.getKeyValue,o.prototype.getRow=function(e){return e?this.row[e]:this.row},o.prototype.getObject=function(){return{id:this.getValue(),name:this.getLabel()}},a.prototype.init=function(){var e=this,t=e.options;t.url?e.loadList():t.hashlist?(Object.keys(t.hashlist).forEach(function(n){var a=new o(t.hashlist[n],e);e.data.push(a),e.hashtable[n]=a}),e.is_loaded=!0):t.hashtable?(Object.keys(t.hashtable).forEach(function(n){var a=new o({name:t.hashtable[n],value:n},e);e.data.push(a),e.hashtable[n]=a}),e.oplabel="name",e.opvalue="value",e.is_loaded=!0):t.datalist&&(t.datalist.forEach(function(t){var n=new o(t,e);e.hashtable[t[e.opvalue]]=n,e.data.push(n)}),e.is_loaded=!0)},a.prototype.loadList=function(){var e=this,t=e.options;t.params;Object(r.b)(t.url,function(t){t.data.forEach(function(t){var n=new o(t,e);e.hashtable[t[e.opvalue]]=n,e.data.push(n)}),e.is_loaded=!0},"json")},a.prototype.getData=function(e){var t=this;!function n(){t.is_loaded?e(t.data):setTimeout(n,50)}()},a.prototype.filter=function(e,t){this.getData(function(n){var o=Object.keys(e),a=n.filter(function(t){return o.every(function(n){return e[n]==t.getRow(n)})});t(a)})},a.prototype.sub=function(e,t){var n=this;n.getData(function(o){var i=Object.keys(e),r=o.filter(function(t){return i.every(function(n){return e[n]==t.getRow(n)})}),r=r.map(function(e){return e.getRow()}),s=new a({datalist:r,oplabel:n.oplabel,opvalue:n.opvalue},n.lang);s.init(),t(s)})},a.prototype.getLabelName=function(e){return this.oplabel},a.prototype.getValueName=function(e){return this.opvalue},a.prototype.setLang=function(e){this.lang=e},a.prototype.getLang=function(){return this.lang},a.prototype.setLabelName=function(e){this.oplabel=e},a.prototype.getLabelList=function(e,t){this.getData(function(n){var o=e.map(function(e){return n.find(function(t){return e==t.getValue()})}).filter(function(e){return e}).map(function(e){return e.getLabel()});t(o)})},a.prototype.getRow=function(e,t){var n=this;!function o(){n.is_loaded?t(n.hashtable[e]):setTimeout(o,50)}()},a.prototype.getRowLabel=function(e,t){this.getRow(e,function(e){t(e?e.getLabelValue():"")})},a.prototype.getRowLabels=function(e,t){e="string"==typeof e?e.split(","):e,this.getLabelList(e,function(e){t(e.join(","))})},a.getDataSource=function(e,t){if(e.constructor==a)return e;if(s[e])return s[e].setLang(t),s[e];return"string"==typeof e?function(){if(!i.a[e])throw"资源未定义:"+e;return s[e]=new a(i.a[e],t),s[e].init(),s[e]}():function(){return new a(i.a[e],t)}()},t.a=a},3:function(e,t,n){"use strict";n.d(t,"d",function(){return g}),n.d(t,"e",function(){return p}),n.d(t,"f",function(){return d}),n.d(t,"c",function(){return c}),n.d(t,"b",function(){return b}),n.d(t,"a",function(){return h});var o=n(2),a=(n(9),n(7)),i=n(0),r=n(5),s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},u=function(e){return{get:function(e,t,n){var o=this;n=n||0,"object"==(void 0===e?"undefined":s(e))?n<=0?t(e):o.init(n,e,t):o.fetch(n,e,t)},fetch:function(t,n,o){var i=this;Object(a.a)(e)(n,function(e){t<=0?o(e):i.init(t,e,o)})},init:function(e,t,n){n(t)}}},l=u("warehouse"),c=Object.assign(u("product"),{init:function(e,t,n){var a=[],r=o.a.getDataSource("sizecontent",Object(i.b)("lang"));a.push(new Promise(function(e){r.filter({topid:t.sizetopid},e)})),Promise.all(a).then(function(e){t.sizecontents=e[0],n(t)})}}),p=Object.assign(u("product"),{init:function(e,t,n){var a=[],r=o.a.getDataSource("sizecontent",Object(i.b)("lang"));a.push(new Promise(function(e){r.filter({topid:t.sizetopid},e)}));var s=o.a.getDataSource("brandgroupchild",Object(i.b)("lang"));a.push(new Promise(function(e){s.getRowLabel(t.childbrand,e)}));var u=o.a.getDataSource("brandgroup",Object(i.b)("lang"));a.push(new Promise(function(e){u.getRowLabel(t.brandgroupid,e)}));var l=o.a.getDataSource("country",Object(i.b)("lang"));a.push(new Promise(function(e){l.getRowLabels(t.countries,e)}));var c=o.a.getDataSource("colortemplate",Object(i.b)("lang"));a.push(new Promise(function(e){c.getRowLabels(t.brandcolor,e)}));var p=o.a.getDataSource("executioncategory",Object(i.b)("lang"));a.push(new Promise(function(e){p.getRowLabels(t.executioncategory,e)}));var f=o.a.getDataSource("securitycategory",Object(i.b)("lang"));a.push(new Promise(function(e){f.getRowLabels(t.securitycategory,e)}));var d=o.a.getDataSource("season",Object(i.b)("lang"));a.push(new Promise(function(e){d.getRowLabels(t.season,e)}));var b=o.a.getDataSource("ageseason",Object(i.b)("lang"));a.push(new Promise(function(e){b.getRowLabels(t.ageseason,e)}));var h=o.a.getDataSource("materialstatus",Object(i.b)("lang"));a.push(new Promise(function(e){h.getRowLabels(t.materialstatus,e)}));var g=o.a.getDataSource("occasionsstyle",Object(i.b)("lang"));a.push(new Promise(function(e){g.getRowLabels(t.occasion,e)})),Promise.all(a).then(function(e){t.sizecontents=e[0],t.childbrand_label=e[1],t.brandgroup_label=e[2],t.countries_label=e[3],t.brandcolor_label=e[4],t.executioncategory_label=e[5],t.securitycategory_label=e[6],t.season_label=e[7],t.ageseason_label=e[8],t.materialstatus_label=e[9],t.occasion_label=e[10],n(t)})}}),f=u("goods"),d=Object.assign(u("productstock"),{init:function(e,t,n){var a=[];a.push(new Promise(function(n){c.get(t.productid,n,e-1)})),a.push(new Promise(function(n){l.get(t.warehouseid,n,e-1)}));var r=o.a.getDataSource("sizecontent",Object(i.b)("lang"));a.push(new Promise(function(e){r.getRow(t.sizecontentid,function(t){e(t)})})),a.push(new Promise(function(n){f.get(t.goodsid,n,e-1)})),Promise.all(a).then(function(e){t.product=e[0],t.warehouse=e[1],t.sizecontent=e[2],t.goods=e[3],n(t)})}}),b=Object.assign(u("orderdetails"),{init:function(e,t,n){var a=[];a.push(new Promise(function(n){c.get(t.productid,n,e-1)}));var r=o.a.getDataSource("sizecontent",Object(i.b)("lang"));a.push(new Promise(function(e){r.getRow(t.sizecontentid,function(t){e(t)})})),Promise.all(a).then(function(e){t.product=e[0],t.sizecontent=e[1],n(t)})}}),h=Object.assign(u("confirmorderdetails"),{init:function(e,t,n){var o=[];o.push(new Promise(function(n){b.get(t.orderdetailsid,n,e-1)})),Promise.all(o).then(function(e){t.orderdetails=e[0],n(t)})}}),g=function(e,t){Object(r.c)("/product/codelist",{id:e},function(e){t(e.data)},"json")}},5:function(e,t,n){"use strict";n.d(t,"b",function(){return s}),n.d(t,"c",function(){return u}),n.d(t,"a",function(){return r});var o=n(12),a=n.n(o),i=(window.ASAP,{}),r="http://erp.localhost.com",s=function(e,t){if(window.ASAP&&window.ASAP.$session_id){var n=window.ASAP.$session_id;e=e.indexOf("?")>=0?e+"&_session_id="+n:e+"?_session_id="+n}if(i[e])if(0==i[e].loaded){!function n(){i[e]&&1==i[e].loaded?t(i[e].data):setTimeout(n,50)}()}else t(i[e].data);else i[e]={loaded:!1},a.a.get(r+e,function(n){i[e].loaded=!0,i[e].data=n,t(n)},"json")},u=function(e,t,n){window.ASAP&&window.ASAP.$session_id&&(t._session_id=window.ASAP.$session_id),a.a.post(r+e,t,n,"json")}},65:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=n(2),a=n(3);"undefined"!=typeof window&&(void 0===window.ASAP&&(window.ASAP={}),window.ASAP.getLabel=function(e,t,n,a){o.a.getDataSource(e,t).getRowLabels(n,a)},window.ASAP.product=function(e,t){a.e.get(e,t,1)}),t.default={}},7:function(e,t,n){"use strict";n.d(t,"a",function(){return i});var o=n(5),a={list:{},temp:{},result:{},loading:!1},i=function(e){a.list[e]||(a.list[e]={},a.temp[e]={},a.result[e]={});a.list[e],a.temp[e],a.result[e];return function(t,n){a.result[e][t]?n(a.result[e][t]):(a.loading?a.temp[e][t]=1:a.list[e][t]=1,setTimeout(function i(){if(a.result[e][t])n(a.result[e][t]);else if(a.loading)setTimeout(i,100);else{a.loading=!0;var r={};Object.keys(a.list).forEach(function(e){r[e]=Object.keys(a.list[e])}),Object(o.c)("/common/loadname",{params:JSON.stringify(r)},function(o){Object.keys(o).forEach(function(e){var t=o[e];a.result[e]=Object.assign(a.result[e],t),a.list[e]=a.temp[e],a.temp[e]={}}),a.loading=!1,n(a.result[e][t])},"json")}},100))}}},9:function(e,t,n){"use strict";var o=function(e){this.getList=function(){return e}};o.prototype.findIndex=function(e,t){return this.getList().findIndex(function(n){if("string"==typeof e)return n[e]==t;for(var o=0;o<e.length;o++)if(n[e[o][0]]!=e[1])return!1;return!0})},t.a=o}});
//# sourceMappingURL=shop.js.map