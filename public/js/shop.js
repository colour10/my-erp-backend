!function(e){function t(n){if(a[n])return a[n].exports;var o=a[n]={i:n,l:!1,exports:{}};return e[n].call(o.exports,o,o.exports,t),o.l=!0,o.exports}var a={};t.m=e,t.c=a,t.d=function(e,a,n){t.o(e,a)||Object.defineProperty(e,a,{configurable:!1,enumerable:!0,get:n})},t.n=function(e){var a=e&&e.__esModule?function(){return e.default}:function(){return e};return t.d(a,"a",a),a},t.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},t.p="/dist/",t(t.s=144)}({0:function(e,t,a){"use strict";a.d(t,"b",function(){return o});var n=$ASA.$,o=function(e){return"undefined"!=typeof $ASAL&&$ASAL[e]?$ASAL[e]:""},i=Object.assign,r=function(e){return function(){var t=Array.prototype.slice.call(arguments);t.unshift("old <"+e+">"),console.log.apply(console,t)}};t.a={$:n,getLabel:o,logger:r,extend:i}},10:function(e,t,a){"use strict";var n=function(e){this.getList=function(){return e}};n.prototype.findIndex=function(e,t){return this.getList().findIndex(function(a){if("string"==typeof e)return a[e]==t;for(var n=0;n<e.length;n++)if(a[e[n][0]]!=e[1])return!1;return!0})},t.a=n},11:function(e,t,a){"use strict";var n={};"undefined"==typeof $ASAL&&($ASAL={}),n["test.hashtable"]={hashtable:{SS:"春夏",FW:"秋冬",XX:"经典"}},n["test.hashlist"]={hashlist:{SS:{tname:"春夏",tvalue:"SS"},FW:{tname:"秋冬",tvalue:"FW"},XX:{tname:"经典",tvalue:"XX"}},oplabel:"tname",opvalue:"tvalue"},n["test.datalist"]={datalist:[{tname:"春夏",tvalue:"SS"},{tname:"秋冬",tvalue:"FW"},{tname:"经典",tvalue:"XX"}],oplabel:"tname",opvalue:"tvalue"},n.brand={url:"/l/brand",oplabel:"name",opvalue:"id"},n.country={url:"/l/country",oplabel:"name",opvalue:"id"},n.colortemplate={url:"/l/colortemplate",oplabel:"name",opvalue:"id"},n.brandgroup={url:"/l/brandgroup",oplabel:"name",opvalue:"id"},n.group={url:"/l/group",oplabel:"group_name",opvalue:"id"},n.user={url:"/l/user",oplabel:"login_name",opvalue:"id"},n["department.single"]={url:"/department/single",oplabel:"label",opvalue:"id"},n.childproductgroup={url:"/l/brandgroupchild",oplabel:"name",opvalue:"id"},n.ulnarinch={url:"/l/ulnarinch",oplabel:"name",opvalue:"id"},n.ageseason={url:"/l/ageseason",oplabel:"fullname",opvalue:"id"},n.aliases={url:"/l/aliases",oplabel:"name",opvalue:"id"},n.sizetop={url:"/l/sizetop",oplabel:"name",opvalue:"id"},n.sizecontent={url:"/l/sizecontent",oplabel:"content",opvalue:"id"},n.member={url:"/l/member",oplabel:"name",opvalue:"id"},n.warehouse={url:"/l/warehouse",oplabel:"name",opvalue:"id"},n.supplier={url:"/l/supplier",oplabel:"suppliername",opvalue:"id"},n.saleport={url:"/l/saleport",oplabel:"name",opvalue:"id"},n.usersaleport={url:"/user/saleportlist",oplabel:"name",opvalue:"id"},n.userwarehouse={url:"/warehouse/userlist",oplabel:"name",opvalue:"id"},n.gender={hashtable:$ASAL.list_gender},n.gender2={hashtable:$ASAL.list_gender2},n.currency={hashlist:$ASAL.list_currency,oplabel:"name",opvalue:"id"},n.season={hashtable:$ASAL.list_season},n.orderproperty={hashtable:$ASAL.list_orderproperty},n.bussinesstype={hashlist:$ASAL.list_bussinesstype,oplabel:"name",opvalue:"id"},n.sessionmark={hashtable:{SS:"SS",FW:"FW",XX:"XX"}},n.seasontype={hashtable:{0:"Pre",1:"Main",2:"Fashion"}},n.formtype={hashtable:$ASAL.list_formtype},n.languages={hashlist:$ASAL.list_languages,oplabel:"name",opvalue:"code"},n.pickingtype={hashtable:$ASAL.list_pickingtype},n.expresspaidtype={hashtable:$ASAL.list_expresspaidtype},n.transporttype={hashtable:$ASAL.list_transporttype},n.paytype={hashtable:$ASAL.list_paytype},n.salestatus={hashtable:$ASAL.list_salestatus},n.orderstatus={hashtable:$ASAL.list_ordertatus},n.confirmstatusstatus={hashtable:$ASAL.list_confirmstatusstatus},n.requisitiontype={hashtable:$ASAL.list_requisitiontype},n.requisitionstatus={hashtable:$ASAL.list_requisitionstatus},n.warehouserole={hashtable:$ASAL.list_warehouserole},t.a=n},144:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=a(2),o=a(4);"undefined"!=typeof window&&(void 0===window.ASAP&&(window.ASAP={}),window.ASAP.getLabel=function(e,t,a,o){n.a.getDataSource(e,t).getRowLabels(a,o)},window.ASAP.product=function(e,t){o.e.get(e,t,1)}),t.default={}},2:function(e,t,a){"use strict";function n(e,t){var a=this;a.row=e,a.dataSource=t}function o(e,t){var a=this;a.lang=t,a.data=[],a.hashtable={},a.options=e,a.oplabel=e.oplabel||"name",a.opvalue=e.opvalue||"value",a.is_loaded=!1}var i=a(11),r=a(8),l={};n.prototype.getKeyValue=function(){var e=this.dataSource.getValueName();return this.row[e]},n.prototype.getLabelValue=function(){var e=this,t=e.dataSource.getLabelName(),a=e.dataSource.getLang();return e.row[t]||e.row[t+"_"+a]},n.prototype.getLabel=n.prototype.getLabelValue,n.prototype.getValue=n.prototype.getKeyValue,n.prototype.getRow=function(e){return e?this.row[e]:this.row},n.prototype.getObject=function(){return{id:this.getValue(),name:this.getLabel()}},o.prototype.init=function(){var e=this,t=e.options;t.url?e.loadList():t.hashlist?(Object.keys(t.hashlist).forEach(function(a){var o=new n(t.hashlist[a],e);e.data.push(o),e.hashtable[a]=o}),e.is_loaded=!0):t.hashtable?(Object.keys(t.hashtable).forEach(function(a){var o=new n({name:t.hashtable[a],value:a},e);e.data.push(o),e.hashtable[a]=o}),e.oplabel="name",e.opvalue="value",e.is_loaded=!0):t.datalist&&(t.datalist.forEach(function(t){var a=new n(t,e);e.hashtable[t[e.opvalue]]=a,e.data.push(a)}),e.is_loaded=!0)},o.prototype.loadList=function(){var e=this,t=e.options;t.params;Object(r.a)(t.url,function(t){t.data.forEach(function(t){var a=new n(t,e);e.hashtable[t[e.opvalue]]=a,e.data.push(a)}),e.is_loaded=!0},"json")},o.prototype.getData=function(e){var t=this;!function a(){t.is_loaded?e(t.data):setTimeout(a,50)}()},o.prototype.filter=function(e,t){this.getData(function(a){var n=Object.keys(e),o=a.filter(function(t){return n.every(function(a){return e[a]==t.getRow(a)})});t(o)})},o.prototype.sub=function(e,t){var a=this;a.getData(function(n){var i=Object.keys(e),r=n.filter(function(t){return i.every(function(a){return e[a]==t.getRow(a)})}),r=r.map(function(e){return e.getRow()}),l=new o({datalist:r,oplabel:a.oplabel,opvalue:a.opvalue},a.lang);l.init(),t(l)})},o.prototype.getLabelName=function(e){return this.oplabel},o.prototype.getValueName=function(e){return this.opvalue},o.prototype.setLang=function(e){this.lang=e},o.prototype.getLang=function(){return this.lang},o.prototype.setLabelName=function(e){this.oplabel=e},o.prototype.getLabelList=function(e,t){this.getData(function(a){var n=e.map(function(e){return a.find(function(t){return e==t.getValue()})}).filter(function(e){return e}).map(function(e){return e.getLabel()});t(n)})},o.prototype.getRow=function(e,t){var a=this;!function n(){a.is_loaded?t(a.hashtable[e]):setTimeout(n,50)}()},o.prototype.getRowLabel=function(e,t){this.getRow(e,function(e){t(e?e.getLabelValue():"")})},o.prototype.getRowLabels=function(e,t){e="string"==typeof e?e.split(","):e,this.getLabelList(e,function(e){t(e.join(","))})},o.getDataSource=function(e,t){if(e.constructor==o)return e;if(l[e])return l[e].setLang(t),l[e];return"string"==typeof e?function(){if(!i.a[e])throw"资源未定义:"+e;return l[e]=new o(i.a[e],t),l[e].init(),l[e]}():function(){return new o(i.a[e],t)}()},t.a=o},4:function(e,t,a){"use strict";a.d(t,"d",function(){return h}),a.d(t,"e",function(){return c}),a.d(t,"f",function(){return f}),a.d(t,"c",function(){return u}),a.d(t,"b",function(){return d}),a.d(t,"a",function(){return b});var n=a(2),o=(a(10),a(7)),i=a(0),r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},l=function(e){return{get:function(e,t,a){var n=this;a=a||0,"object"==(void 0===e?"undefined":r(e))?a<=0?t(e):n.init(a,e,t):n.fetch(a,e,t)},fetch:function(t,a,n){var i=this;Object(o.a)(e)(a,function(e){t<=0?n(e):i.init(t,e,n)})},init:function(e,t,a){a(t)}}},s=l("warehouse"),u=Object.assign(l("product"),{init:function(e,t,a){var o=[],r=n.a.getDataSource("sizecontent",Object(i.b)("lang"));o.push(new Promise(function(e){r.filter({topid:t.sizetopid},e)})),Promise.all(o).then(function(e){t.sizecontents=e[0],a(t)})}}),c=Object.assign(l("product"),{init:function(e,t,a){var o=[],r=n.a.getDataSource("sizecontent",Object(i.b)("lang"));o.push(new Promise(function(e){r.filter({topid:t.sizetopid},e)}));var l=n.a.getDataSource("childproductgroup",Object(i.b)("lang"));o.push(new Promise(function(e){l.getRowLabel(t.childbrand,e)}));var s=n.a.getDataSource("brandgroup",Object(i.b)("lang"));o.push(new Promise(function(e){s.getRowLabel(t.brandgroupid,e)}));var u=n.a.getDataSource("country",Object(i.b)("lang"));o.push(new Promise(function(e){u.getRowLabels(t.countries,e)}));var c=n.a.getDataSource("colortemplate",Object(i.b)("lang"));o.push(new Promise(function(e){c.getRowLabels(t.brandcolor,e)}));var p=n.a.getDataSource("executioncategory",Object(i.b)("lang"));o.push(new Promise(function(e){p.getRowLabels(t.executioncategory,e)}));var f=n.a.getDataSource("securitycategory",Object(i.b)("lang"));o.push(new Promise(function(e){f.getRowLabels(t.securitycategory,e)}));var d=n.a.getDataSource("season",Object(i.b)("lang"));o.push(new Promise(function(e){d.getRowLabels(t.season,e)}));var b=n.a.getDataSource("ageseason",Object(i.b)("lang"));o.push(new Promise(function(e){b.getRowLabels(t.ageseason,e)}));var h=n.a.getDataSource("materialstatus",Object(i.b)("lang"));o.push(new Promise(function(e){h.getRowLabels(t.materialstatus,e)}));var g=n.a.getDataSource("occasionsstyle",Object(i.b)("lang"));o.push(new Promise(function(e){g.getRowLabels(t.occasion,e)})),Promise.all(o).then(function(e){t.sizecontents=e[0],t.childbrand_label=e[1],t.brandgroup_label=e[2],t.countries_label=e[3],t.brandcolor_label=e[4],t.executioncategory_label=e[5],t.securitycategory_label=e[6],t.season_label=e[7],t.ageseason_label=e[8],t.materialstatus_label=e[9],t.occasion_label=e[10],a(t)})}}),p=l("goods"),f=Object.assign(l("productstock"),{init:function(e,t,a){var o=[];o.push(new Promise(function(a){u.get(t.productid,a,e-1)})),o.push(new Promise(function(a){s.get(t.warehouseid,a,e-1)}));var r=n.a.getDataSource("sizecontent",Object(i.b)("lang"));o.push(new Promise(function(e){r.getRow(t.sizecontentid,function(t){e(t)})})),o.push(new Promise(function(a){p.get(t.goodsid,a,e-1)})),Promise.all(o).then(function(e){t.product=e[0],t.warehouse=e[1],t.sizecontent=e[2],t.goods=e[3],a(t)})}}),d=Object.assign(l("orderdetails"),{init:function(e,t,a){var o=[];o.push(new Promise(function(a){u.get(t.productid,a,e-1)}));var r=n.a.getDataSource("sizecontent",Object(i.b)("lang"));o.push(new Promise(function(e){r.getRow(t.sizecontentid,function(t){e(t)})})),Promise.all(o).then(function(e){t.product=e[0],t.sizecontent=e[1],a(t)})}}),b=Object.assign(l("confirmorderdetails"),{init:function(e,t,a){var n=[];n.push(new Promise(function(a){d.get(t.orderdetailsid,a,e-1)})),Promise.all(n).then(function(e){t.orderdetails=e[0],a(t)})}}),h=function(e,t){$ASA.post("/product/codelist",{id:e},function(e){t(e.data)},"json")}},7:function(e,t,a){"use strict";a.d(t,"a",function(){return i});var n=a(8),o={list:{},temp:{},result:{},loading:!1},i=function(e){o.list[e]||(o.list[e]={},o.temp[e]={},o.result[e]={});o.list[e],o.temp[e],o.result[e];return function(t,a){o.result[e][t]?a(o.result[e][t]):(o.loading?o.temp[e][t]=1:o.list[e][t]=1,setTimeout(function i(){if(o.result[e][t])a(o.result[e][t]);else if(o.loading)setTimeout(i,100);else{o.loading=!0;var r={};Object.keys(o.list).forEach(function(e){r[e]=Object.keys(o.list[e])}),Object(n.b)("/common/loadname",{params:JSON.stringify(r)},function(n){Object.keys(n).forEach(function(e){var t=n[e];o.result[e]=Object.assign(o.result[e],t),o.list[e]=o.temp[e],o.temp[e]={}}),o.loading=!1,a(o.result[e][t])},"json")}},100))}}},8:function(e,t,a){"use strict";a.d(t,"a",function(){return o}),a.d(t,"b",function(){return i});var n={},o=function(e,t){if(n[e])if(0==n[e].loaded){!function a(){n[e]&&1==n[e].loaded?t(n[e].data):setTimeout(a,50)}()}else t(n[e].data);else n[e]={loaded:!1},$ASA.get(e,function(a){n[e].loaded=!0,n[e].data=a,t(a)},"json")},i=$ASA.post}});
//# sourceMappingURL=shop.js.map