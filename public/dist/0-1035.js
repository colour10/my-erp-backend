webpackJsonp([0],{315:function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=r(373),a=r(441),o=r(0),i=o(n.a,a.a,!1,null,null,null);e.default=i.exports},320:function(t,e,r){"use strict";r.d(e,"a",function(){return o});var n=r(183),a=r.n(n),o=function(t){var e={};return{get:function(r){return e[r]||(e[r]=a.a.cloneDeep(t)),e[r]},result:function(){return e}}}},321:function(t,e,r){"use strict";e.__esModule=!0;var n=r(325),a=function(t){return t&&t.__esModule?t:{default:t}}(n);e.default=function(t){if(Array.isArray(t)){for(var e=0,r=Array(t.length);e<t.length;e++)r[e]=t[e];return r}return(0,a.default)(t)}},325:function(t,e,r){t.exports={default:r(326),__esModule:!0}},326:function(t,e,r){r(28),r(327),t.exports=r(2).Array.from},327:function(t,e,r){"use strict";var n=r(27),a=r(9),o=r(39),i=r(76),l=r(77),s=r(56),u=r(328),c=r(58);a(a.S+a.F*!r(78)(function(t){Array.from(t)}),"Array",{from:function(t){var e,r,a,d,f=o(t),p="function"==typeof this?this:Array,b=arguments.length,m=b>1?arguments[1]:void 0,v=void 0!==m,h=0,_=c(f);if(v&&(m=n(m,b>2?arguments[2]:void 0,2)),void 0==_||p==Array&&l(_))for(e=s(f.length),r=new p(e);e>h;h++)u(r,h,v?m(f[h],h):f[h]);else for(d=_.call(f),r=new p;!(a=d.next()).done;h++)u(r,h,v?i(d,m,[a.value,h],!0):a.value);return r.length=h,r}})},328:function(t,e,r){"use strict";var n=r(12),a=r(29);t.exports=function(t,e,r){e in t?n.f(t,e,a(0,r)):t[e]=r}},329:function(t,e,r){"use strict";var n=r(10),a=r.n(n),o=r(321),i=r.n(o),l=r(11),s=r.n(l);e.a={name:"sp-orderbrand-list",props:{orderid:{},shippingid:{}},data:function(){return{tabledata:[]}},methods:{openit:function(t){this._open("/orderbrand/"+t)},show:function(){var t=this;return s()(a.a.mark(function e(){var r,n,o,l,s,u,c;return a.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(r=t,!r.orderid){e.next=10;break}return e.next=4,r._fetch("/order/orderbrandlist",{id:r.orderid});case 4:o=e.sent,l=o.data,r.tabledata=[],(n=r.tabledata).push.apply(n,i()(l)),e.next=16;break;case 10:return e.next=12,r._fetch("/shipping/orderbrandlist",{id:r.shippingid});case 12:u=e.sent,c=u.data,r.tabledata=[],(s=r.tabledata).push.apply(s,i()(c));case 16:r._showDialog("dialog");case 17:case"end":return e.stop()}},e,t)}))()}}}},334:function(t,e,r){"use strict";var n=r(329),a=r(335),o=r(0),i=o(n.a,a.a,!1,null,null,null);e.a=i.exports},335:function(t,e,r){"use strict";var n=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("sp-dialog",{ref:"dialog",staticClass:"product clearpadding",attrs:{width:"1200"}},[r("el-table",{staticStyle:{width:"100%"},attrs:{data:t.tabledata,stripe:"",border:""}},[r("el-table-column",{attrs:{label:t._label("gongsidingdanhao"),align:"center",width:"130"},scopedSlots:t._u([{key:"default",fn:function(e){var n=e.row;return[r("el-button",{on:{click:function(e){return t.openit(n.id)}}},[t._v(t._s(n.orderno))])]}}])}),t._v(" "),r("el-table-column",{attrs:{label:t._label("gonghuoshang"),align:"center",width:"100"},scopedSlots:t._u([{key:"default",fn:function(t){var e=t.row;t.$index;return[r("sp-select-text",{attrs:{value:e.supplierid,source:"supplier"}})]}}])}),t._v(" "),r("el-table-column",{attrs:{label:t._label("niandaijijie"),width:"100",align:"center"},scopedSlots:t._u([{key:"default",fn:function(t){var e=t.row;return[r("sp-select-text",{attrs:{value:e.ageseason,source:"ageseason"}})]}}])}),t._v(" "),r("el-table-column",{attrs:{label:t._label("yewuleixing"),width:"80",align:"center"},scopedSlots:t._u([{key:"default",fn:function(t){var e=t.row;return[r("sp-select-text",{attrs:{value:e.bussinesstype,source:"bussinesstype"}})]}}])}),t._v(" "),r("el-table-column",{attrs:{label:t._label("bizhong"),width:"80",align:"center"},scopedSlots:t._u([{key:"default",fn:function(t){var e=t.row;return[r("sp-select-text",{attrs:{value:e.currency,source:"currency"}})]}}])}),t._v(" "),r("el-table-column",{attrs:{label:t._label("zongjine"),width:"80",align:"center",prop:"total_discount_price"}}),t._v(" "),r("el-table-column",{attrs:{label:t._label("zongjianshu"),width:"80",align:"center",prop:"total_number"}}),t._v(" "),r("el-table-column",{attrs:{label:t._label("zhekoulv"),width:"80",align:"center",prop:"discount"}}),t._v(" "),r("el-table-column",{attrs:{label:t._label("tuishuilv"),width:"80",align:"center",prop:"taxrebate"}}),t._v(" "),r("el-table-column",{attrs:{label:t._label("edu"),width:"80",align:"center",prop:"quantum"}}),t._v(" "),r("el-table-column",{attrs:{label:t._label("dingdanriqi"),width:"100",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){var r=e.row;return[t._v("\n                "+t._s(r.maketime&&r.maketime.length>0?r.maketime.substr(0,10):"")+"\n            ")]}}])}),t._v(" "),r("el-table-column",{attrs:{label:t._label("pinpai"),width:"150"},scopedSlots:t._u([{key:"default",fn:function(t){var e=t.row;return[r("sp-select-text",{attrs:{value:e.brandid,source:"brand"}})]}}])})],1)],1)},a=[],o={render:n,staticRenderFns:a};e.a=o},373:function(t,e,r){"use strict";var n=r(18),a=r.n(n),o=r(55),i=r.n(o),l=r(26),s=r.n(l),u=r(10),c=r.n(u),d=r(11),f=r.n(d),p=r(182),b=r.n(p),m=r(36),v=r(1),h=r(7),_=r(425),y=r(186),g=r(320),w=r(334),k={columns:[{name:"payment_type",label:Object(v.d)("fukuanleixing"),type:"select",source:"paymenttype"},{name:"currency",label:Object(v.d)("bizhong"),type:"select",source:"currency"},{name:"amount",label:Object(v.d)("jine")},{name:"paymentdate",label:Object(v.d)("fukuanriqi"),type:"date"},{name:"memo",label:Object(v.d)("beizhu")},{name:"makestaff",label:Object(v.d)("tijiaoren"),type:"select",source:"user",is_edit_hide:!0},{name:"status",label:Object(v.d)("yiruzhang"),type:"switch",is_edit_hide:!0}],controller:"orderpayment",auth:"order-submit",base:{orderid:""},options:{isedit:function(t){return 0==t.status},isdelete:function(t){return 0==t.status},autoreload:!0}};e.a={name:"sp-orderform",components:b()({},w.a.name,w.a),mixins:[y.a],data:function(){return{form:{bookingid:"",orderdate:"",linkmanid:"",bussinesstype:"",supplierid:"",finalsupplierid:"",ageseason:"",seasontype:"",bookingorderno:"",makedate:"",currency:"",discount:"1",taxrebate:"1",property:"1",makestaff:"",maketime:"",memo:"",orderno:"",status:"",id:""},tabledata:[],listdata:[],details:[],title:"",lang:"",pro:!1,formid:"",props:k,discounts:{}}},methods:{goToOrderbrand:function(){var t=this;return f()(c.a.mark(function e(){var r,n,a;return c.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=t,r._log("goToOrderbrand"),e.next=4,m.a.getOrderListToImport({orderid:r.form.id});case 4:n=e.sent,a=n.details,a.length>0?r.$router.push("/orderbrand/0?id="+r.form.id):alert(r._label("tip-001"));case 7:case"end":return e.stop()}},e,t)}))()},addPayment:function(){var t=this;t.canSubmitPayment&&(k.base.orderid=t.form.id,t.$refs.payment.showFormToCreate())},focus:function(t,e){var r=this.$refs[e];r&&r.startFocus(t)},showProduct:function(){this.pro=!0},onSelect:function(t){var e=this;e.appendRow({id:"",product:t,discount:e.form.discount,factoryprice:e.f(t.factoryprice),total:0})},finish:function(){var t=this;t._submit("/order/finish",{id:t.form.id}).then(function(e){t._redirect("/order/"+e.data.form.id)})},saveOrder:function(t){var e=this,r={form:Object(h.b)({},e.form,{status:t})};r.form.genders=e.genders,r.form.total=e.total_price,r.form.brandids=e.brandids;var n=[],a=!0,o=!1,l=void 0;try{for(var u,c=i()(e.tabledata);!(a=(u=c.next()).done);a=!0){var d=u.value,f=!0,p=!1,b=void 0;try{for(var m,v=i()(e.listdata);!(f=(m=v.next()).done);f=!0){var _=m.value;_.productid===d.product.id&&_.number>0&&n.push({productid:d.product.id,discount:d.discount,sizecontentid:_.sizecontentid,number:_.number,factoryprice:d.factoryprice,id:e.getDetailId(d.product.id,_.sizecontentid)})}}catch(t){p=!0,b=t}finally{try{!f&&v.return&&v.return()}finally{if(p)throw b}}}}catch(t){o=!0,l=t}finally{try{!a&&c.return&&c.return()}finally{if(o)throw l}}r.list=n,e.validate().then(function(){e._submit("/order/saveorder",{params:s()(r)}).then(function(t){t.data;e._redirect("/order/"+t.data.form.id)})})},getDetailId:function(t,e){var r=this.details.find(function(r){return r.productid===t&&r.sizecontentid===e});return r?r.id:0},deleteRow:function(t){var e=this,r=e.tabledata.findIndex(function(e){return e==t});e.$delete(e.tabledata,r)},appendRow:function(t){var e=this;e.tabledata.some(function(e){return e.product.id==t.product.id})||(e.tabledata.unshift(t),e.form.currency=e.currencyid)},getInit:function(t){var e=this,r={},n=!0,a=!1,o=void 0;try{for(var l,s=i()(e.listdata);!(n=(l=s.next()).done);n=!0){var u=l.value;u.productid===t&&(r[u.sizecontentid]=u.number)}}catch(t){a=!0,o=t}finally{try{!n&&s.return&&s.return()}finally{if(a)throw o}}return r},onChange:function(t){var e=this,r=!0,n=!1,a=void 0;try{for(var o,l=i()(t);!(r=(o=l.next()).done);r=!0){var s=o.value;!function(t){var r=e.listdata.find(function(e){var r=e.sizecontentid,n=e.productid;return r==t.sizecontentid&&n==t.uniq});r?r.number=t.number:e.listdata.push({sizecontentid:t.sizecontentid,number:t.number,productid:t.uniq})}(s)}}catch(t){n=!0,a=t}finally{try{!r&&l.return&&l.return()}finally{if(n)throw a}}},onDiscountChange:function(t,e){var r=this,n=!0,a=!1,o=void 0;try{for(var l,s=i()(r.tabledata);!(n=(l=s.next()).done);n=!0){var u=l.value;(u.discount==e||1*u.discount<=0)&&(u.discount=t)}}catch(t){a=!0,o=t}finally{try{!n&&s.return&&s.return()}finally{if(a)throw o}}},getSummary:function(t){var e=t.columns,r=t.data,n=this,a=[];return e.forEach(function(t,e){if(0==e)return void(a[e]=n._label("heji"));6==e?a[e]=n.f(r.reduce(function(t,e){return t+e.factoryprice*n.stat[e.product.id].total},0)):3==e&&(a[e]=n.listdata.reduce(function(t,e){return t+Number(e.number)},0))}),a[1]=r.length,a[9]=n.total_price,a}},computed:{isList:function(){var t=!0,e=!1,r=void 0;try{for(var n,a=i()(this.listdata);!(t=(n=a.next()).done);t=!0){if(n.value.number>0)return!0}}catch(t){e=!0,r=t}finally{try{!t&&a.return&&a.return()}finally{if(e)throw r}}return!1},isEditable:function(){var t=this.form.status;return"1"==t||""==t||!t},width:function(){return 50*this.tabledata.reduce(function(t,e){var r=e.product;return Math.max(t,r.sizecontents.length)},1)+21},canSubmitPayment:function(){return this.form.id>0},total_price:function(){var t=this,e=t.tabledata.reduce(function(e,r){return e+t.stat[r.product.id].total*t.stat[r.product.id].dealPrice},0);return this.f(e)},brands:function(){var t={};return this.tabledata.forEach(function(e){return t[e.product.brand_label]=1}),a()(t).join(",")},brandids:function(){var t={};return this.tabledata.forEach(function(e){return t[e.product.brandid]=1}),a()(t).join(",")},genderlabels:function(){var t={};return this.tabledata.forEach(function(e){e.product.gender_label.length>0&&(t[e.product.gender_label]=1)}),a()(t).join(",")},genders:function(){var t={};return this.tabledata.forEach(function(e){e.product.gender_label.length>0&&(t[e.product.gender]=1)}),a()(t).join(",")},stat:function(){var t=this,e=Object(g.a)({dealPrice:0,total:0}),r=!0,n=!1,a=void 0;try{for(var o,l=i()(t.tabledata);!(r=(o=l.next()).done);r=!0){var s=o.value;e.get(s.product.id).dealPrice=t.form.taxrebate>0?t.f(s.factoryprice*s.discount/t.form.taxrebate):0}}catch(t){n=!0,a=t}finally{try{!r&&l.return&&l.return()}finally{if(n)throw a}}var u=!0,c=!1,d=void 0;try{for(var f,p=i()(t.listdata);!(u=(f=p.next()).done);u=!0){var b=f.value,m=b.productid,v=b.number;e.get(m).total+=Number(v)}}catch(t){c=!0,d=t}finally{try{!u&&p.return&&p.return()}finally{if(c)throw d}}return e.result()},currencyid:function(){var t=this;if(t.form.currency>0)return t.form.currency;for(var e=0;e<t.details.length;e++)return t.details[e].currencyid;for(var r=0;r<t.tabledata.length;r++)return t.tabledata[r].product.factorypricecurrency}},mounted:function(){var t=this,e=t.$route,r=void 0;0==e.params.id?r=t._label("xinjiandingdan"):(t._fetch("/order/loadorder",{id:e.params.id}).then(function(){var e=f()(c.a.mark(function e(r){var n,a,o,l,s,u,d;return c.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(Object(h.a)(r.data.form,t.form),t.tabledata=[],!r.data.list){e.next=28;break}for(t.details=r.data.list,n=!0,a=!1,o=void 0,e.prev=7,l=i()(r.data.list);!(n=(s=l.next()).done);n=!0)u=s.value,t.listdata.push({productid:u.productid,sizecontentid:u.sizecontentid,number:u.number});e.next=15;break;case 11:e.prev=11,e.t0=e.catch(7),a=!0,o=e.t0;case 15:e.prev=15,e.prev=16,!n&&l.return&&l.return();case 18:if(e.prev=18,!a){e.next=21;break}throw o;case 21:return e.finish(18);case 22:return e.finish(15);case 23:return e.next=25,Object(_.a)(r.data.list);case 25:d=e.sent,d.forEach(function(e){return t.appendRow(e)}),t.form.currency=t.currencyid;case 28:t._setTitle(t._label("dingdan")+":"+t.form.orderno);case 29:case"end":return e.stop()}},e,this,[[7,11,15,23],[16,,18,22]])}));return function(t){return e.apply(this,arguments)}}()),r="loading..."),t._setTitle(r),t.initRules(function(e){var r=t._label;return{bussinesstype:e.id({required:!0,message:r("8000"),label:r("yewuleixing")}),ageseason:e.id({required:!0,message:r("8000"),label:r("niandai")}),property:e.id({required:!0,message:r("8000"),label:r("shuxing")}),bookingid:e.id({required:!0,message:r("8000"),label:r("dinghuokehu")})}})}}},374:function(t,e,r){var n=r(14);t.exports=function(t,e){if(!n(t)||t._t!==e)throw TypeError("Incompatible receiver, "+e+" required!");return t}},425:function(t,e,r){"use strict";var n=r(55),a=r.n(n),o=r(6),i=r.n(o),l=r(426),s=r.n(l),u=r(35);e.a=function(t){var e=new s.a,r=!0,n=!1,o=void 0;try{for(var l,c=a()(t);!(r=(l=c.next()).done);r=!0){var d=l.value,f=e.get(d.productid)||{productid:d.productid,discount:Number(d.discount),total:0,factoryprice:d.factoryprice};f.total+=Number(d.number),e.set(d.productid,f)}}catch(t){n=!0,o=t}finally{try{!r&&c.return&&c.return()}finally{if(n)throw o}}var p=[],b=!0,m=!1,v=void 0;try{for(var h,_=a()(e.values());!(b=(h=_.next()).done);b=!0){var y=h.value,g=Object(u.j)(y);g.push(u.e.load({data:y.productid,depth:1}),"product"),p.push(g.all())}}catch(t){m=!0,v=t}finally{try{!b&&_.return&&_.return()}finally{if(m)throw v}}return i.a.all(p)}},426:function(t,e,r){t.exports={default:r(427),__esModule:!0}},427:function(t,e,r){r(60),r(28),r(32),r(428),r(434),r(437),r(439),t.exports=r(2).Map},428:function(t,e,r){"use strict";var n=r(429),a=r(374);t.exports=r(430)("Map",function(t){return function(){return t(this,arguments.length>0?arguments[0]:void 0)}},{get:function(t){var e=n.getEntry(a(this,"Map"),t);return e&&e.v},set:function(t,e){return n.def(a(this,"Map"),0===t?0:t,e)}},n,!0)},429:function(t,e,r){"use strict";var n=r(12).f,a=r(54),o=r(80),i=r(27),l=r(79),s=r(75),u=r(61),c=r(82),d=r(83),f=r(13),p=r(81).fastKey,b=r(374),m=f?"_s":"size",v=function(t,e){var r,n=p(e);if("F"!==n)return t._i[n];for(r=t._f;r;r=r.n)if(r.k==e)return r};t.exports={getConstructor:function(t,e,r,u){var c=t(function(t,n){l(t,c,e,"_i"),t._t=e,t._i=a(null),t._f=void 0,t._l=void 0,t[m]=0,void 0!=n&&s(n,r,t[u],t)});return o(c.prototype,{clear:function(){for(var t=b(this,e),r=t._i,n=t._f;n;n=n.n)n.r=!0,n.p&&(n.p=n.p.n=void 0),delete r[n.i];t._f=t._l=void 0,t[m]=0},delete:function(t){var r=b(this,e),n=v(r,t);if(n){var a=n.n,o=n.p;delete r._i[n.i],n.r=!0,o&&(o.n=a),a&&(a.p=o),r._f==n&&(r._f=a),r._l==n&&(r._l=o),r[m]--}return!!n},forEach:function(t){b(this,e);for(var r,n=i(t,arguments.length>1?arguments[1]:void 0,3);r=r?r.n:this._f;)for(n(r.v,r.k,this);r&&r.r;)r=r.p},has:function(t){return!!v(b(this,e),t)}}),f&&n(c.prototype,"size",{get:function(){return b(this,e)[m]}}),c},def:function(t,e,r){var n,a,o=v(t,e);return o?o.v=r:(t._l=o={i:a=p(e,!0),k:e,v:r,p:n=t._l,n:void 0,r:!1},t._f||(t._f=o),n&&(n.n=o),t[m]++,"F"!==a&&(t._i[a]=o)),t},getEntry:v,setStrong:function(t,e,r){u(t,e,function(t,r){this._t=b(t,e),this._k=r,this._l=void 0},function(){for(var t=this,e=t._k,r=t._l;r&&r.r;)r=r.p;return t._t&&(t._l=r=r?r.n:t._t._f)?"keys"==e?c(0,r.k):"values"==e?c(0,r.v):c(0,[r.k,r.v]):(t._t=void 0,c(1))},r?"entries":"values",!r,!0),d(e)}}},430:function(t,e,r){"use strict";var n=r(3),a=r(9),o=r(81),i=r(19),l=r(15),s=r(80),u=r(75),c=r(79),d=r(14),f=r(31),p=r(12).f,b=r(431)(0),m=r(13);t.exports=function(t,e,r,v,h,_){var y=n[t],g=y,w=h?"set":"add",k=g&&g.prototype,x={};return m&&"function"==typeof g&&(_||k.forEach&&!i(function(){(new g).entries().next()}))?(g=e(function(e,r){c(e,g,t,"_c"),e._c=new y,void 0!=r&&u(r,h,e[w],e)}),b("add,clear,delete,forEach,get,has,set,keys,values,entries,toJSON".split(","),function(t){var e="add"==t||"set"==t;t in k&&(!_||"clear"!=t)&&l(g.prototype,t,function(r,n){if(c(this,g,t),!e&&_&&!d(r))return"get"==t&&void 0;var a=this._c[t](0===r?0:r,n);return e?this:a})}),_||p(g.prototype,"size",{get:function(){return this._c.size}})):(g=v.getConstructor(e,t,h,w),s(g.prototype,r),o.NEED=!0),f(g,t),x[t]=g,a(a.G+a.W+a.F,x),_||v.setStrong(g,t,h),g}},431:function(t,e,r){var n=r(27),a=r(62),o=r(39),i=r(56),l=r(432);t.exports=function(t,e){var r=1==t,s=2==t,u=3==t,c=4==t,d=6==t,f=5==t||d,p=e||l;return function(e,l,b){for(var m,v,h=o(e),_=a(h),y=n(l,b,3),g=i(_.length),w=0,k=r?p(e,g):s?p(e,0):void 0;g>w;w++)if((f||w in _)&&(m=_[w],v=y(m,w,h),t))if(r)k[w]=v;else if(v)switch(t){case 3:return!0;case 5:return m;case 6:return w;case 2:k.push(m)}else if(c)return!1;return d?-1:u||c?c:k}}},432:function(t,e,r){var n=r(433);t.exports=function(t,e){return new(n(t))(e)}},433:function(t,e,r){var n=r(14),a=r(84),o=r(4)("species");t.exports=function(t){var e;return a(t)&&(e=t.constructor,"function"!=typeof e||e!==Array&&!a(e.prototype)||(e=void 0),n(e)&&null===(e=e[o])&&(e=void 0)),void 0===e?Array:e}},434:function(t,e,r){var n=r(9);n(n.P+n.R,"Map",{toJSON:r(435)("Map")})},435:function(t,e,r){var n=r(40),a=r(436);t.exports=function(t){return function(){if(n(this)!=t)throw TypeError(t+"#toJSON isn't generic");return a(this)}}},436:function(t,e,r){var n=r(75);t.exports=function(t,e){var r=[];return n(t,!1,r.push,r,e),r}},437:function(t,e,r){r(438)("Map")},438:function(t,e,r){"use strict";var n=r(9);t.exports=function(t){n(n.S,t,{of:function(){for(var t=arguments.length,e=new Array(t);t--;)e[t]=arguments[t];return new this(e)}})}},439:function(t,e,r){r(440)("Map")},440:function(t,e,r){"use strict";var n=r(9),a=r(30),o=r(27),i=r(75);t.exports=function(t){n(n.S,t,{from:function(t){var e,r,n,l,s=arguments[1];return a(this),e=void 0!==s,e&&a(s),void 0==t?new this:(r=[],e?(n=0,l=o(s,arguments[2],2),i(t,!1,function(t){r.push(l(t,n++))})):i(t,!1,r.push,r),new this(r))}})}},441:function(t,e,r){"use strict";var n=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",[r("el-form",{ref:"order-form",staticClass:"formx",staticStyle:{width:"100%"},attrs:{model:t.form,"label-width":"85px",inline:!0,size:"mini",rules:t.formRules,"inline-message":!1,"show-message":!1}},[r("el-row",{attrs:{gutter:0}},[r("asa-button",{attrs:{auth:"order-submit",enable:"2"!=t.form.status&&t.isList},on:{click:function(e){return t.saveOrder(1)}}},[t._v(t._s(t._label("baocun")))]),t._v(" "),r("asa-button",{attrs:{auth:"order-submit",enable:t.form.id>0&&"2"!=t.form.status},on:{click:function(e){return t.finish()}}},[t._v(t._s(t._label("wancheng")))]),t._v(" "),r("asa-button",{attrs:{enable:t.isEditable},on:{click:function(e){return t.showProduct()}}},[t._v(t._s(t._label("xuanzeshangpin")))]),t._v(" "),r("asa-button",{attrs:{auth:"order-submit",enable:t.form.id>0},on:{click:t.goToOrderbrand}},[t._v(t._s(t._label("shengchengpinpaidingdan")))]),t._v(" "),r("asa-button",{attrs:{enable:t.form.id>0},on:{click:function(e){return t.$refs.houcha.show()}}},[t._v(t._s(t._label("houcha")))])],1),t._v(" "),r("el-row",{attrs:{gutter:0}},[r("el-col",{staticStyle:{width:"230px"},attrs:{span:4}},[r("el-form-item",{attrs:{label:t._label("dinghuokehu"),prop:"bookingid"}},[r("simple-select",{attrs:{source:"supplier_2"},model:{value:t.form.bookingid,callback:function(e){t.$set(t.form,"bookingid",e)},expression:"form.bookingid"}})],1),t._v(" "),r("el-form-item",{attrs:{label:t._label("lianxiren")}},[r("simple-select",{attrs:{source:"supplierlinkman",parentid:t.form.bookingid},model:{value:t.form.linkmanid,callback:function(e){t.$set(t.form,"linkmanid",e)},expression:"form.linkmanid"}})],1),t._v(" "),r("el-form-item",{attrs:{label:t._label("gonghuoshang")}},[r("simple-select",{attrs:{source:"supplier_3",clearable:!0},model:{value:t.form.supplierid,callback:function(e){t.$set(t.form,"supplierid",e)},expression:"form.supplierid"}})],1),t._v(" "),r("el-form-item",{attrs:{label:t._label("fahuoshang")}},[r("simple-select",{attrs:{source:"supplier_3",clearable:!0},model:{value:t.form.finalsupplierid,callback:function(e){t.$set(t.form,"finalsupplierid",e)},expression:"form.finalsupplierid"}})],1)],1),t._v(" "),r("el-col",{staticStyle:{width:"230px"},attrs:{span:4}},[r("el-form-item",{attrs:{label:t._label("niandai"),prop:"ageseason"}},[r("simple-select",{attrs:{source:"ageseason"},model:{value:t.form.ageseason,callback:function(e){t.$set(t.form,"ageseason",e)},expression:"form.ageseason"}})],1),t._v(" "),r("el-form-item",{attrs:{label:t._label("jijie")}},[r("simple-select",{attrs:{source:"seasontype"},model:{value:t.form.seasontype,callback:function(e){t.$set(t.form,"seasontype",e)},expression:"form.seasontype"}})],1),t._v(" "),r("el-form-item",{attrs:{label:t._label("yewuleixing"),prop:"bussinesstype"}},[r("simple-select",{attrs:{source:"bussinesstype"},model:{value:t.form.bussinesstype,callback:function(e){t.$set(t.form,"bussinesstype",e)},expression:"form.bussinesstype"}})],1),t._v(" "),r("el-form-item",{attrs:{label:t._label("shuxing"),prop:"property"}},[r("simple-select",{attrs:{source:"orderproperty"},model:{value:t.form.property,callback:function(e){t.$set(t.form,"property",e)},expression:"form.property"}})],1)],1),t._v(" "),r("el-col",{staticStyle:{width:"230px"},attrs:{span:4}},[r("el-form-item",{attrs:{label:t._label("jine")}},[r("el-input",{staticClass:"productcurrency",attrs:{disabled:""},model:{value:t.total_price,callback:function(e){t.total_price=e},expression:"total_price"}},[r("simple-select",{attrs:{slot:"prepend",source:"currency",clearable:!1,disabled:""},slot:"prepend",model:{value:t.form.currency,callback:function(e){t.$set(t.form,"currency",e)},expression:"form.currency"}})],1)],1),t._v(" "),r("el-form-item",{attrs:{label:t._label("zhekoulv")}},[r("sp-float-input",{on:{change:t.onDiscountChange},model:{value:t.form.discount,callback:function(e){t.$set(t.form,"discount",e)},expression:"form.discount"}})],1),t._v(" "),r("el-form-item",{attrs:{label:t._label("tuishuilv")}},[r("sp-float-input",{model:{value:t.form.taxrebate,callback:function(e){t.$set(t.form,"taxrebate",e)},expression:"form.taxrebate"}})],1),t._v(" "),r("el-form-item",{attrs:{label:t._label("beizhu")}},[r("el-input",{model:{value:t.form.memo,callback:function(e){t.$set(t.form,"memo",e)},expression:"form.memo"}})],1)],1),t._v(" "),r("el-col",{staticStyle:{width:"230px"},attrs:{span:4}},[r("el-form-item",{attrs:{label:t._label("kehudingdanhao")}},[r("el-input",{model:{value:t.form.bookingorderno,callback:function(e){t.$set(t.form,"bookingorderno",e)},expression:"form.bookingorderno"}})],1),t._v(" "),r("el-form-item",{attrs:{label:t._label("gongsidingdanhao")}},[r("el-input",{attrs:{placeholder:t._label("zidonghuoqu"),disabled:""},model:{value:t.form.orderno,callback:function(e){t.$set(t.form,"orderno",e)},expression:"form.orderno"}})],1),t._v(" "),r("el-form-item",{attrs:{label:t._label("zhidanren")}},[r("sp-display-input",{attrs:{value:t.form.makestaff,source:"user",placeholder:t._label("zidonghuoqu")}})],1),t._v(" "),r("el-form-item",{attrs:{label:t._label("dinghuoriqi")}},[r("el-date-picker",{attrs:{type:"date","value-format":"yyyy-MM-dd"},model:{value:t.form.orderdate,callback:function(e){t.$set(t.form,"orderdate",e)},expression:"form.orderdate"}})],1)],1),t._v(" "),r("el-col",{staticStyle:{width:"230px"},attrs:{span:4}},[r("el-form-item",{attrs:{label:t._label("xingbie")}},[r("el-input",{attrs:{disabled:""},model:{value:t.genderlabels,callback:function(e){t.genderlabels=e},expression:"genderlabels"}})],1),t._v(" "),r("el-form-item",{attrs:{label:t._label("pinpai")}},[r("el-input",{attrs:{disabled:""},model:{value:t.brands,callback:function(e){t.brands=e},expression:"brands"}})],1),t._v(" "),r("el-form-item",{attrs:{label:t._label("zhidanriqi")}},[r("el-input",{attrs:{value:t.form.maketime,placeholder:t._label("zidonghuoqu"),disabled:""}})],1)],1)],1)],1),t._v(" "),r("el-row",[r("el-col",{staticClass:"product",attrs:{span:24}},[r("el-table",{staticStyle:{width:"100%"},attrs:{data:t.tabledata,stripe:"",border:"","show-summary":!0,"summary-method":t.getSummary}},[r("el-table-column",{attrs:{align:"center",width:"60"},scopedSlots:t._u([{key:"default",fn:function(e){return[r("img",{staticStyle:{width:"50px",height:"50px"},attrs:{src:t._fileLink(e.row.product.picture)}})]}}])}),t._v(" "),r("el-table-column",{attrs:{label:t._label("guojima"),align:"left",width:"200"},scopedSlots:t._u([{key:"default",fn:function(t){return[r("sp-product-tip",{attrs:{product:t.row.product}})]}}])}),t._v(" "),r("el-table-column",{attrs:{prop:"number",label:t._label("dinggoushuliang"),align:"center",width:t.width},scopedSlots:t._u([{key:"default",fn:function(e){var n=e.row,a=e.$index;return[r("sp-sizecontent-input",{key:n.product.id,ref:a,attrs:{columns:n.product.sizecontents,uniq:n.product.id,disabled:!t.isEditable,init:t.getInit(n.product.id)},on:{change:t.onChange,up:function(e){return t.focus(e,a-1)},down:function(e){return t.focus(e,a+1)}}})]}}])}),t._v(" "),r("el-table-column",{attrs:{prop:"total",label:t._label("zongshu"),width:"100",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){var r=e.row;return[t._v("\n                        "+t._s(t.stat[r.product.id].total)+"\n                    ")]}}])}),t._v(" "),r("el-table-column",{attrs:{prop:"label",label:t._label("bizhong"),width:"80",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){var r=e.row;return[t._v("\n                        "+t._s(r.product.factorypricecurrency_label)+"\n                    ")]}}])}),t._v(" "),r("el-table-column",{attrs:{prop:"label",label:t._label("chuchangjia"),width:"100",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){var n=e.row;return[r("el-input",{attrs:{size:"mini"},model:{value:n.factoryprice,callback:function(e){t.$set(n,"factoryprice",e)},expression:"row.factoryprice"}})]}}])}),t._v(" "),r("el-table-column",{attrs:{prop:"label",label:t._label("chuchangjiaheji"),width:"100",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){var r=e.row;return[t._v("\n                        "+t._s(t.f(r.factoryprice*t.stat[r.product.id].total))+"\n                    ")]}}])}),t._v(" "),r("el-table-column",{attrs:{prop:"label",label:t._label("zhekoulv"),width:"100",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){var n=e.row;return[r("el-input",{attrs:{size:"mini"},model:{value:n.discount,callback:function(e){t.$set(n,"discount",e)},expression:"row.discount"}})]}}])}),t._v(" "),r("el-table-column",{attrs:{prop:"label",label:t._label("chengjiaojia"),width:"130",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){var r=e.row;return[t._v("\n                        "+t._s(t.f(t.stat[r.product.id].dealPrice))+"\n                    ")]}}])}),t._v(" "),r("el-table-column",{attrs:{prop:"label",label:t._label("chengjiaozongjia"),width:"100",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){var r=e.row;return[t._v("\n                        "+t._s(t.f(t.stat[r.product.id].dealPrice*t.stat[r.product.id].total))+"\n                    ")]}}])}),t._v(" "),r("el-table-column",{attrs:{label:t._label("chanpinmingcheng"),align:"left",width:"300"},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v("\n                        "+t._s(e.row.product.getName())+"\n                    ")]}}])}),t._v(" "),t.isEditable?r("el-table-column",{attrs:{label:t._label("caozuo"),width:"100",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){var n=e.row;return[r("as-button",{attrs:{size:"mini",type:"danger"},on:{click:function(e){return t.deleteRow(n)}}},[t._v(t._s(t._label("shanchu")))])]}}],null,!1,1952232498)}):t._e()],1)],1)],1),t._v(" "),r("asa-select-product-dialog",{attrs:{visible:t.pro},on:{"update:visible":function(e){t.pro=e},select:t.onSelect}}),t._v(" "),r("sp-orderbrand-list",{ref:"houcha",attrs:{orderid:t.form.id}})],1)},a=[],o={render:n,staticRenderFns:a};e.a=o}});
//# sourceMappingURL=0-1035.js.map