webpackJsonp([30],{320:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var l=a(422),r=a(492),o=a(0),s=o(l.a,r.a,!1,null,null,null);t.default=s.exports},422:function(e,t,a){"use strict";var l=a(2),r=a(197);t.a={name:"sp-user",components:{SimpleAdminTablelist:r.a},data:function(){return{dialogVisible:!1,form:{id:"",login_name:"",real_name:"",password:"",departmentid:"",companyid:"",groupid:"",storeid:"",sex:"",section:"",date:"",phone:"",mobilephone:"",e_mail:"",email_password:"",comment:"",countryid:"",address:"",saleportid:"",priceid:"",warehouseid:""},saleport:[],warehouse:[],currentSaleports:[],currentPrices:[],currentWarehouses:[],currentTab:"user",saleport_list:[],warehouse_list:[],props:{columns:[{name:"login_name",label:Object(l.d)("dengluming"),is_create:!0,is_update:!0,is_show:!0,is_focus:!0,width:200},{name:"real_name",label:Object(l.d)("xingming"),is_create:!0,is_update:!0,is_show:!0,width:200,is_focus:!0}],controller:"user"},props2:{columns:[{name:"warehouseid",label:Object(l.d)("cangku"),type:"select",source:"currentWarehouses"},{name:"warehouseroleid",label:Object(l.d)("juese"),type:"select",source:"warehouserole"}],controller:"warehouseuser",base:{userid:""},options:{isAutoReload:!0}},userprice:{columns:[{name:"priceid",label:Object(l.d)("jiage"),type:"select",source:"price"}],controller:"userprice",base:{userid:""},options:{isSearch:!1}}}},methods:{onQuit:function(){this.dialogVisible=!1},onSubmit:function(){var e=this;e.validate().then(function(){var t=l.f.extend({saleportids:e.saleport.join(",")},e.form);""==e.form.id?e._submit("/user/add",t).then(function(){e.$refs.tablelist.appendRow(l.f.clone(e.form))}):(t.id=e.form.id,e._submit("/user/edit",t).then(function(){l.f.copyTo(e.form,e.row)}))})},onTabClick:function(e){this.currentTab=e.name},showFormToEdit:function(e,t){var a=this;a.rowIndex=e,a.row=t,l.f.copyTo(t,this.form),a.saleport=t.saleportids?t.saleportids.split(","):[],a.props2.base.userid=t.id,a.userprice.base.userid=t.id,a.showDialog()},showDialog:function(){var e=this;e.dialogVisible=!0,e.saleport=[],e._fetch("/user/currentsaleportlist",{userId:e.form.id}).then(function(t){t.data.forEach(function(t){e.saleport.push(t.id)})}),e._fetch("/user/currentsaleportlist",{userId:e.form.id}).then(function(t){e.currentSaleports=t.data}),e._fetch("/user/currentuserpricelist",{userId:e.form.id}).then(function(t){e.currentPrices=t.data}),e._fetch("/user/currentwarehouses",{userId:e.form.id}).then(function(t){e.currentWarehouses=t.data}),e._fetch("/user/saleports",{}).then(function(t){e.saleport_list=t.data}),e._fetch("/user/warehouses",{}).then(function(t){e.warehouse_list=t.data})},showFormToCreate:function(){var e=this;l.f.empty(e.form),e.clearValidate(50),e.showDialog()}}}},492:function(e,t,a){"use strict";var l=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("el-row",[a("el-col",{attrs:{span:2}},[a("auth",{attrs:{auth:"user"}},[a("as-button",{attrs:{type:"primary"},on:{click:function(t){return e.showFormToCreate()}}},[e._v(e._s(e._label("button-create")))])],1)],1)],1),e._v(" "),a("el-row",{attrs:{gutter:20}},[a("el-col",{attrs:{span:24}},[a("simple-admin-tablelist",e._b({ref:"tablelist",attrs:{onclickupdate:e.showFormToEdit}},"simple-admin-tablelist",e.props,!1))],1)],1),e._v(" "),a("el-dialog",{staticClass:"user-form user-dialog",attrs:{title:e._label("yonghuxinxi"),visible:e.dialogVisible,center:!0,"close-on-click-modal":!1,"close-on-press-escape":!1,width:"700px"},on:{"update:visible":function(t){e.dialogVisible=t}}},[a("el-tabs",{attrs:{type:"border-card",activeName:"user"},on:{"tab-click":e.onTabClick}},[a("el-tab-pane",{attrs:{label:e._label("user-setting"),name:"user"}},[a("el-form",{ref:"order-form",staticClass:"order-form",staticStyle:{width:"700px"},attrs:{model:e.form,"label-width":"85px",inline:!0,size:"small",rules:e.formRules,"inline-message":!1,"show-message":!1}},[a("el-col",{attrs:{span:11}},[a("el-form-item",{attrs:{label:e._label("user-loginname"),prop:"login_name"}},[a("el-input",{model:{value:e.form.login_name,callback:function(t){e.$set(e.form,"login_name",t)},expression:"form.login_name"}})],1),e._v(" "),a("el-form-item",{attrs:{label:e._label("user-realname")}},[a("el-input",{model:{value:e.form.real_name,callback:function(t){e.$set(e.form,"real_name",t)},expression:"form.real_name"}})],1),e._v(" "),a("el-form-item",{attrs:{label:e._label("depart")}},[a("simple-select",{attrs:{source:"department.single"},model:{value:e.form.departmentid,callback:function(t){e.$set(e.form,"departmentid",t)},expression:"form.departmentid"}})],1),e._v(" "),a("el-form-item",{attrs:{label:e._label("country")}},[a("simple-select",{attrs:{source:"country"},model:{value:e.form.countryid,callback:function(t){e.$set(e.form,"countryid",t)},expression:"form.countryid"}})],1),e._v(" "),a("el-form-item",{attrs:{label:e._label("user-join")}},[a("el-date-picker",{attrs:{type:"date","value-format":"yyyy-MM-dd",placeholder:e._label("xuanzeriqi")},model:{value:e.form.date,callback:function(t){e.$set(e.form,"date",t)},expression:"form.date"}})],1),e._v(" "),a("el-form-item",{attrs:{label:e._label("telephone")}},[a("el-input",{model:{value:e.form.phone,callback:function(t){e.$set(e.form,"phone",t)},expression:"form.phone"}})],1)],1),e._v(" "),a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:e._label("password")}},[a("el-input",{model:{value:e.form.password,callback:function(t){e.$set(e.form,"password",t)},expression:"form.password"}})],1),e._v(" "),a("el-form-item",{attrs:{label:e._label("gender")}},[a("el-radio-group",{staticStyle:{width:"200px"},model:{value:e.form.sex,callback:function(t){e.$set(e.form,"sex",t)},expression:"form.sex"}},[a("el-radio",{attrs:{label:"1"}},[e._v(e._s(e._label("man")))]),e._v(" "),a("el-radio",{attrs:{label:"0"}},[e._v(e._s(e._label("woman")))])],1)],1),e._v(" "),a("el-form-item",{attrs:{label:e._label("zu")}},[a("simple-select",{staticStyle:{width:"150px"},attrs:{source:"group"},model:{value:e.form.groupid,callback:function(t){e.$set(e.form,"groupid",t)},expression:"form.groupid"}})],1),e._v(" "),a("el-form-item",{attrs:{label:e._label("email")}},[a("el-input",{model:{value:e.form.e_mail,callback:function(t){e.$set(e.form,"e_mail",t)},expression:"form.e_mail"}})],1),e._v(" "),a("el-form-item",{attrs:{label:e._label("user-left")}},[a("el-date-picker",{attrs:{type:"date","value-format":"yyyy-MM-dd",placeholder:e._label("xuanzeriqi")},model:{value:e.form.leave_date,callback:function(t){e.$set(e.form,"leave_date",t)},expression:"form.leave_date"}})],1),e._v(" "),a("el-form-item",{attrs:{label:e._label("mobile")}},[a("el-input",{model:{value:e.form.mobilephone,callback:function(t){e.$set(e.form,"mobilephone",t)},expression:"form.mobilephone"}})],1)],1)],1)],1),e._v(" "),a("el-tab-pane",{attrs:{label:e._label("sale-port"),name:"saleport"}},[a("el-checkbox-group",{model:{value:e.saleport,callback:function(t){e.saleport=t},expression:"saleport"}},e._l(e.saleport_list,function(t){return a("el-col",{key:t.id,attrs:{span:6}},[a("el-checkbox",{attrs:{label:t.id}},[e._v(e._s(t.name))])],1)}),1)],1),e._v(" "),a("el-tab-pane",{attrs:{label:e._label("cangku"),name:"warehouse"}},[a("simple-admin-page",e._b({ref:"page2"},"simple-admin-page",e.props2,!1))],1),e._v(" "),a("el-tab-pane",{attrs:{label:e._label("jiage"),name:"userprice"}},[a("simple-admin-page",e._b({ref:"userprice"},"simple-admin-page",e.userprice,!1))],1),e._v(" "),a("el-tab-pane",{attrs:{label:e._label("morenshezhi"),name:"setting"}},[a("el-form",{staticClass:"order-form",staticStyle:{width:"700px"},attrs:{model:e.form,"label-width":"85px",inline:!0,size:"small"}},[a("el-form-item",{attrs:{label:e._label("xiaoshouduankou")}},[a("el-select",{attrs:{placeholder:e._label("qingxuanze")},model:{value:e.form.saleportid,callback:function(t){e.$set(e.form,"saleportid",t)},expression:"form.saleportid"}},e._l(e.currentSaleports,function(e){return a("el-option",{key:e.id,attrs:{label:e.name,value:e.id}})}),1)],1),e._v(" "),a("el-form-item",{attrs:{label:e._label("jiage")}},[a("el-select",{attrs:{placeholder:e._label("qingxuanze")},model:{value:e.form.priceid,callback:function(t){e.$set(e.form,"priceid",t)},expression:"form.priceid"}},e._l(e.currentPrices,function(e){return a("el-option",{key:e.id,attrs:{label:e.name,value:e.id}})}),1)],1),e._v(" "),a("el-form-item",{attrs:{label:e._label("xiaoshoucangku")}},[a("el-select",{attrs:{placeholder:e._label("qingxuanze")},model:{value:e.form.warehouseid,callback:function(t){e.$set(e.form,"warehouseid",t)},expression:"form.warehouseid"}},e._l(e.currentWarehouses,function(e){return a("el-option",{key:e.id,attrs:{label:e.name,value:e.id}})}),1)],1)],1)],1)],1),e._v(" "),a("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("auth",{attrs:{auth:"user"}},[a("as-button",{attrs:{type:"primary"},on:{click:e.onSubmit}},[e._v(e._s(e._label("baocun")))])],1),e._v(" "),a("as-button",{attrs:{type:"primary"},on:{click:e.onQuit}},[e._v(e._s(e._label("tuichu")))])],1)],1)],1)},r=[],o={render:l,staticRenderFns:r};t.a=o}});