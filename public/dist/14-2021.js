webpackJsonp([14],{312:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(412),a=r(476),o=r(0),i=o(n.a,a.a,!1,null,null,null);t.default=i.exports},351:function(e,t,r){"use strict";r.d(t,"a",function(){return o});var n=r(141),a=r.n(n),o=function(e){var t={};return{get:function(r){return t[r]||(t[r]=a.a.cloneDeep(e)),t[r]},result:function(){return t}}}},352:function(e,t,r){"use strict";var n=r(56);t.a={methods:{formatNumber:function(e){return Object(n.b)(e,3)},f:function(e){return Object(n.b)(e,2)}}}},353:function(e,t,r){"use strict";var n=r(14),a=r(79),o=function(e){return{forEach:function(t){Object(a.a)(e.form).forEach(function(e,r){t({number:e,sizecontentid:r})})}}};t.a={name:"sp-sizecontent-confirm4",props:{disabled:{type:Boolean,default:!1},columns:{type:Array},head:{type:[Object],require:!0},data:{},uniq:{}},data:function(){var e=this,t={};return e.columns.forEach(function(e){t[e.id]=""}),e.data.forEach(function(e){var r=e.sizecontentid,n=e.number;t[r]=n}),{form:t,tabledata:[[]]}},methods:{distributeTo:function(){var e=this,t=e.form;o(e).forEach(function(r){var n=r.sizecontentid;r.number;t[n]="",t[key]=e.head[n]?e.head[n]:""}),e.onChange()},onFocus:function(e){this.$refs[e][0].select()},getLineTotal:function(e){var t=0;return Object(a.a)(e).forEach(function(e){e>0&&(t+=1*e)}),t},getBodyRowTotal:function(e){var t=0;return o(this).forEach(function(e){e.number>0&&(t+=1*e.number)}),t},onChange:function(){var e=this,t=[];o(this).forEach(function(r){r.key=e.uniq,t.push(r)}),e.$emit("change",t)},rowClassName:function(e){var t=e.row;e.rowIndex;return"foot"==t.type?"sumline":""},cellClassName:function(e){var t=(e.row,e.column,e.rowIndex,e.columnIndex);return this.columns.length+2==t?"counter sumtotal":this.columns.length+1==t?"counter sumcolumn":"counter"},selectAll:function(){var e=this;Object(n.c)(e.form,e.head),e.onChange()}},computed:{rows:function(){var e=this,t=[];t.push({type:"head",form:e.head});var r={};return e.columns.forEach(function(e){r[e.id]||(r[e.id]="")}),t.push({type:"body",form:r}),t}}}},356:function(e,t,r){"use strict";var n=r(353),a=r(357),o=r(0),i=o(n.a,a.a,!1,null,null,null);t.a=i.exports},357:function(e,t,r){"use strict";var n=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"sizecontent"},[r("el-table",{staticStyle:{width:"100%"},attrs:{data:e.rows,border:!1,"row-class-name":e.rowClassName,"cell-class-name":e.cellClassName}},[e._l(e.columns,function(t){return r("el-table-column",{key:t.id,staticClass:"counter",attrs:{label:t.name,align:"center",width:"50"},scopedSlots:e._u([{key:"default",fn:function(n){var a=n.row;return["head"==a.type?r("el-input",{staticClass:"linetop",staticStyle:{width:"50px"},attrs:{size:"mini",disabled:!0},model:{value:a.form[t.id],callback:function(r){e.$set(a.form,t.id,r)},expression:"row.form[column.id]"}}):e._e(),e._v(" "),"body"==a.type?r("el-input",{ref:t.id,refInFor:!0,staticStyle:{width:"50px"},attrs:{size:"mini",disabled:e.disabled},on:{focus:function(r){return e.onFocus(t.id)}},nativeOn:{keyup:function(t){return e.onChange(a)}},model:{value:e.form[t.id],callback:function(r){e.$set(e.form,t.id,r)},expression:"form[column.id]"}}):e._e()]}}],null,!0)})}),e._v(" "),r("el-table-column",{attrs:{label:e._label("heji"),align:"right",width:"53"},scopedSlots:e._u([{key:"default",fn:function(t){var n=t.row;return["head"==n.type?r("el-input",{staticClass:"linetop",staticStyle:{width:"50px"},attrs:{value:e.getLineTotal(n.form),size:"mini",disabled:!0}}):e._e(),e._v(" "),"body"==n.type?r("el-input",{staticClass:"inputsum",staticStyle:{width:"50px"},attrs:{value:e.getBodyRowTotal(),size:"mini",disabled:!0}}):e._e()]}}])})],2)],1)},a=[],o={render:n,staticRenderFns:a};t.a=o},412:function(e,t,r){"use strict";var n=r(5),a=r.n(n),o=r(76),i=r.n(o),l=r(37),s=r.n(l),c=r(22),u=r.n(c),d=r(9),f=r.n(d),p=r(13),m=r.n(p),b=r(24),h=r.n(b),v=r(73),y=r.n(v),g=r(38),_=r(14),w=r(79),k=r(352),x=r(54),S=r(193),z=r(351),C=r(356);t.a={name:"sp-shippingdetail",components:y()({},C.a.name,C.a),mixins:[k.a],data:function(){return{form:{supplierid:"",finalsupplierid:"",ageseason:"",seasontype:"",property:"",currency:"",bussinesstype:"",warehouseid:"",total:"",exchangerate:"",orderno:"",paydate:"",apickingdate:"",flightno:"",flightdate:"",mblno:"",hblno:"",dispatchport:"",deliveryport:"",box_number:"",weight:"",volume:"",chargedweight:"",transcompany:"",invoiceno:"",aarrivaldate:"",buyerid:"",sellerid:"",transporttype:"",paytype:"",estimatedate:"",maketime:"",makestaff:"",id:"",status:""},formimport:{supplierid:"",ageseason:""},form2:{supplierid:"",keyword:"",keyword1:"",suppliercode1:"",suppliercode:""},tabledata:[],orders:[],orderDetails:[],shippingdetails:[],listdata:[],selected:[],selected2:[],uniqkey:1}},methods:{changeDetail:function(e,t){var r=this;"discount"==t?e.discount=e.factoryprice>0?r.f(e.price/e.factoryprice):"":"price"==t&&(e.price=r.f(e.factoryprice*e.discount))},saveOrder:function(){var e=this,t=this,r={form:t.form},n=[],a={},o=!0,i=!1,l=void 0;try{for(var c,d=u()(t.listdata);!(o=(c=d.next()).done);o=!0){var p=c.value,b=function(e){var r=e.key,o=e.sizecontentid,i=e.number;if(i<=0)return"continue";var l=t.tabledata.find(function(e){return e.key==r});console.log(">>>",l,o);var s=t.orderDetails.find(function(e){return e.orderid==l.orderid&&e.sizecontentid==o&&e.productid==l.product.id&&e.orderid==l.order.id});if(!s)return{v:void 0};var c=[l.price,l.product.id,l.orderid,o].join("-");if(a[c])return{v:alert(t._label("chongfushezhi")+":"+l.product.getGoodsCode())};n.push({orderid:l.order.id,sizecontentid:o,number:i,productid:l.product.id,discount:l.discount,price:l.price,factoryprice:l.factoryprice,orderdetailid:s.id,currencyid:s.currencyid,orderbrandid:"",orderbranddetailid:"",id:""}),a[c]=1}(p);switch(b){case"continue":continue;default:if("object"===(void 0===b?"undefined":s()(b)))return b.v}}}catch(e){i=!0,l=e}finally{try{!o&&d.return&&d.return()}finally{if(i)throw l}}r.list=n,t._log(h()(r),r),t.validate().then(m()(f.a.mark(function n(){var a,o,i;return f.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t._log(h()(r)),e.next=3,t._submit("/shippingsimple/simplesave",{params:h()(r)});case 3:a=e.sent,o=a.data,i="/shippingsimple/warehousing/"+o.form.id,t._path()!==i?t._redirect(i):Object(_.c)(t.form,o.form);case 7:case"end":return e.stop()}},n,e)})))},onNumberChange:function(e){var t=this,r=!0,n=!1,a=void 0;try{for(var o,i=u()(e);!(r=(o=i.next()).done);r=!0){var l=o.value;!function(e){var r=e.number,n=e.key,a=e.sizecontentid,o=t.listdata.find(function(e){return e.key==n&&e.sizecontentid==a});o?o.number=r:t.listdata.push({key:n,number:r,sizecontentid:a})}(l)}}catch(e){n=!0,a=e}finally{try{!r&&i.return&&i.return()}finally{if(n)throw a}}},copyit:function(e){var t=this,r=Object(_.c)({},e);return $(t).appendRow(r),r},getInit:function(e){var t=this,r=[];return t.listdata.forEach(function(t){var n=t.sizecontentid,a=t.key,o=t.number;a==e&&r.push({sizecontentid:n,number:o})}),r},onSelect:function(e){var t=this;return m()(f.a.mark(function e(){var r,n,a,o,i;return f.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=t,e.next=3,g.a.getOrderSimpleListToImport(r.formimport);case 3:n=e.sent,a=n.orders,o=n.orderDetails,a&&(i=$(r),i.importorders(a),i.importList(o)),r._hideDialog("order-dialog");case 8:case"end":return e.stop()}},e,t)}))()},getSummary:function(e){var t=e.columns,r=e.data,n=this,a=[];return r=n.orderdetails,t.forEach(function(e,t){if(1==t)return void(a[t]=n._label("heji"));7==t?a[t]=r.reduce(function(e,t){var r=n.count[t.key]||0;return n.f(Number(e)+t.price*r)},0):9==t&&(a[t]=r.reduce(function(e,t){var r=n.count[t.key]||0;return Number(e)+Number(r)},0))}),a[2]=r.length,a},onSelectionChange:function(e){this.selected=e},onRowClick:function(e){this.$refs.table.toggleRowSelection(e)},onSelectionChange2:function(e){this.selected2=e}},computed:{canSave:function(){var e=this;return"2"!=e.form.status&&0!==e.listdata.filter(function(e){return e.number>0}).length},orderdetails:function(){var e=this,t={};e.selected.forEach(function(e){t[e.id]=1});var r=e.form2.keyword.toUpperCase(),n=e.form2.suppliercode.toUpperCase(),a=$(e).isMatch;return e.tabledata.filter(function(e){return 1==t[e.orderid]}).filter(function(e){return a(r,e.product.getGoodsCode(""))&&a(n,e.order.booking_label.toUpperCase())})},width:function(){return 51*this.tabledata.reduce(function(e,t){var r=t.product;return Math.max(e,r.sizecontents.length)},1)+75},count:function(){var e=this,t={};return e.listdata.forEach(function(e){var r=e.key,n=e.number;t[r]||(t[r]=0),t[r]+=Number(n)}),t},countbyid:function(){var e=this,t={};return e.listdata.forEach(function(r){var n=r.key,a=r.number,o=e.tabledata.find(function(e){return e.key==n});n=o.orderid,t[n]=t[n]||0,t[n]+=1*a}),t},total_price:function(){var e=this,t=0;return e.listdata.forEach(function(r){var n=r.key,a=r.number,o=e.tabledata.find(function(e){return e.key==n});t+=o.price*a}),t},orderstat:function(){var e=this,t=Object(z.a)({totalCount:0,totalConfirmCount:0,totoaShippingCount:0,brandCount:0,leftCount:0});return e.orders.forEach(function(e){t.get(e.id)}),e.orderDetails.forEach(function(e){var r=t.get(e.orderid);r.totalCount+=1*e.number,r.totalConfirmCount+=1*e.confirm_number,r.totoaShippingCount+=1*e.shipping_number,r.leftCount=r.totalConfirmCount-r.totoaShippingCount,console.log("row=",r)}),e.shippingdetails.forEach(function(e){t.get(e.orderid).leftCount+=1*e.number}),t.result()},currentstat:function(){var e=this,t={};return e.orders.forEach(function(e){t[e.id]=0}),e.listdata.forEach(function(r){var n=r.key,a=(r.sizecontentid,r.number),o=e.tabledata.find(function(e){return e.key==n});t[o.orderid]+=1*a}),t},productStat:function(){var e=this,t=Object(z.a)({currencyid:""}),r=!0,n=!1,a=void 0;try{for(var o,i=u()(e.orderDetails);!(r=(o=i.next()).done);r=!0){var l=o.value;t.get(l.productid).currencyid=l.currencyid}}catch(e){n=!0,a=e}finally{try{!r&&i.return&&i.return()}finally{if(n)throw a}}return t.result()}},watch:{"form2.keyword1":function(e){console.log(e),this.copyKeywordDebounce()},"form2.suppliercode1":function(e){console.log(e),this.copySuppliercodeDebounce()}},mounted:function(){var e=this;return m()(f.a.mark(function t(){var r,n,a,o,l,s,c,d,p,b,h,v,y,w,k;return f.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(r=e,n=r.$route,r._log(n.params),r.copyKeywordDebounce=Object(S.b)(function(){r.form2.keyword=r.form2.keyword1},1e3,!1),r.copySuppliercodeDebounce=Object(S.b)(function(){r.form2.suppliercode=r.form2.suppliercode1},1e3,!1),n.params.id>0?r._fetch("/shippingsimple/load",{id:n.params.id,type:"shipping"}).then(function(){var e=m()(f.a.mark(function e(t){var n,a,o,i,l,s=t.data;return f.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=s.form,a=s.orders,o=s.orderDetails,i=s.shippingdetails,l=$(r),Object(_.a)(n,r.form),l.importorders(a),e.next=6,l.importList(o);case 6:l.importShippingList(i),r._setTitle(r._label("fahuodan")+":"+r.form.orderno),r.$refs.table.toggleAllSelection();case 9:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()):r._setTitle(r._label("shengchengfahuodan")),!(r.$route.query.id&&r.$route.query.id>0)){t.next=38;break}return t.next=9,g.a.getOrderbrandListToImport({orderid:r.$route.query.id});case 9:if(a=t.sent,o=a.orders,l=a.orderDetails,!(o.length>0)){t.next=38;break}for(s=$(r),s.importorders(o),s.importList(l),c=i()(r.orders,1),d=c[0],r.$refs.table.toggleRowSelection(d),p=function(e){var t=e.productid+"-"+e.orderid;setTimeout(function(){r.$refs[t].selectAll()},50)},b=!0,h=!1,v=void 0,t.prev=22,y=u()(l);!(b=(w=y.next()).done);b=!0)k=w.value,p(k);t.next=30;break;case 26:t.prev=26,t.t0=t.catch(22),h=!0,v=t.t0;case 30:t.prev=30,t.prev=31,!b&&y.return&&y.return();case 33:if(t.prev=33,!h){t.next=36;break}throw v;case 36:return t.finish(33);case 37:return t.finish(30);case 38:r.initRules(function(e){var t=r._label;return{warehouseid:e.id({required:!0,message:t("8000"),label:t("daohuocangku")})}});case 39:case"end":return t.stop()}},t,e,[[22,26,30,38],[31,,33,37]])}))()}};var $=function(e){var t={isMatch:function(e,t){return!(e.length>0)||t.toUpperCase().indexOf(e)>=0},convert:function(e){var t=this;return m()(f.a.mark(function r(){var n,o,i,l,s,c,d,p,m,b,h;return f.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:for(n={},o=!0,i=!1,l=void 0,t.prev=4,s=u()(e);!(o=(c=s.next()).done);o=!0)d=c.value,p=d.productid+"-"+d.orderid,n[p]?(n[p].form[d.sizecontentid]=d.confirm_number-d.shipping_number,n[p].total+=d.confirm_number-d.shipping_number):(b={},b[d.sizecontentid]=d.confirm_number-d.shipping_number,n[p]=(m={key:p,productid:d.productid,orderid:d.orderid,discount:d.discount,total:1*d.number,form:b},y()(m,"orderid",d.orderid),y()(m,"factoryprice",d.factoryprice),y()(m,"price",""),y()(m,"is_auto",!0),m));t.next=12;break;case 8:t.prev=8,t.t0=t.catch(4),i=!0,l=t.t0;case 12:t.prev=12,t.prev=13,!o&&s.return&&s.return();case 15:if(t.prev=15,!i){t.next=18;break}throw l;case 18:return t.finish(15);case 19:return t.finish(12);case 20:return h=[],Object(w.a)(n).forEach(function(e){var t=Object(x.i)(e);e.orderid>0?t.push(x.b.load({data:e.orderid,depth:1}),"order"):e.order={id:-1},t.push(x.d.load({data:e.productid,depth:1}),"product"),h.push(t.all())}),t.next=24,a.a.all(h);case 24:return t.abrupt("return",t.sent);case 25:case"end":return t.stop()}},r,t,[[4,8,12,20],[13,,15,19]])}))()},appendRow:function(t){t.key=e.uniqkey,e.tabledata.push(t),e.uniqkey++},importList:function(r){var n=this;return m()(f.a.mark(function a(){var o,i,l,s,c,d,p,m,b,h,v,y,g,_,w;return f.a.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:for(o=[],i=function(t){e.orderDetails.find(function(e){return e.id==t.id})||(e.orderDetails.push(t),o.push(t)),""==e.form.currency&&t.currencyid>0&&(e.form.currency=t.currencyid)},l=!0,s=!1,c=void 0,n.prev=5,d=u()(r);!(l=(p=d.next()).done);l=!0)m=p.value,i(m);n.next=13;break;case 9:n.prev=9,n.t0=n.catch(5),s=!0,c=n.t0;case 13:n.prev=13,n.prev=14,!l&&d.return&&d.return();case 16:if(n.prev=16,!s){n.next=19;break}throw c;case 19:return n.finish(16);case 20:return n.finish(13);case 21:return n.next=23,t.convert(o);case 23:for(b=n.sent,h=!0,v=!1,y=void 0,n.prev=27,g=u()(b);!(h=(_=g.next()).done);h=!0)w=_.value,w.price=e.f(w.factoryprice*w.discount),t.appendRow(w);n.next=35;break;case 31:n.prev=31,n.t1=n.catch(27),v=!0,y=n.t1;case 35:n.prev=35,n.prev=36,!h&&g.return&&g.return();case 38:if(n.prev=38,!v){n.next=41;break}throw y;case 41:return n.finish(38);case 42:return n.finish(35);case 43:case"end":return n.stop()}},a,n,[[5,9,13,21],[14,,16,20],[27,31,35,43],[36,,38,42]])}))()},importorders:function(t){var r=!0,n=!1,a=void 0;try{for(var o,i=u()(t);!(r=(o=i.next()).done);r=!0){var l=o.value;!function(t){e.orders.find(function(e){return e.id==t.id})||(e.orders.push(t),Object(_.d)(e.form,t,function(e){var t=e.target,r=e.key;return e.value&&""==t[r]&&("supplierid"==r||"ageseason"==r||"seasontype"==r||"bussinesstype"==r||"currency"==r)}))}(l)}}catch(e){n=!0,a=e}finally{try{!r&&i.return&&i.return()}finally{if(n)throw a}}},importShippingList:function(t){var r={},n={};t.forEach(function(t){if(!(t.orderid<=0)){e.shippingdetails.push(t);var a=e.tabledata.find(function(e){return e.orderid==t.orderid&&e.product.id==t.productid&&e.order.id==t.orderid}),o=t.productid+"-"+t.orderid+"-"+t.price;if(n[o])e.listdata.push({key:n[o],sizecontentid:t.sizecontentid,number:t.number});else if(r[t.productid+"-"+t.orderid]){var i=e.copyit(a);i.price=t.price,i.discount=t.discount,e.listdata.push({key:i.key,sizecontentid:t.sizecontentid,number:t.number}),n[o]=i.key}else a.price=t.price,a.discount=t.discount,e.listdata.push({key:a.key,sizecontentid:t.sizecontentid,number:t.number}),n[o]=a.key,r[t.productid+"-"+t.orderid]=1}})}};return t}},476:function(e,t,r){"use strict";var n=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",[r("el-form",{ref:"order-form",staticClass:"order-form",staticStyle:{width:"100%"},attrs:{model:e.form,"label-width":"85px",inline:!0,size:"mini",rules:e.formRules,"inline-message":!1,"show-message":!1}},[r("el-row",{attrs:{gutter:0}},[r("asa-button",{attrs:{enable:e.canSave},on:{click:function(t){return e.saveOrder(1)}}},[e._v(e._s(e._label("baocun")))]),e._v(" "),r("asa-button",{attrs:{enable:"2"!=e.form.status},on:{click:function(t){return e._showDialog("order-dialog")}}},[e._v("\n        "+e._s(e._label("daorudingdan"))+"\n      ")])],1),e._v(" "),r("el-row",{attrs:{gutter:0}},[r("el-col",{staticStyle:{width:"600px"},attrs:{span:8}},[r("el-row",{attrs:{gutter:0}},[r("el-col",{staticStyle:{width:"300px"},attrs:{span:4}},[r("el-form-item",{attrs:{label:e._label("fahuodanhao")}},[r("el-input",{attrs:{disabled:!0},model:{value:e.form.orderno,callback:function(t){e.$set(e.form,"orderno",t)},expression:"form.orderno"}})],1),e._v(" "),r("el-form-item",{attrs:{label:e._label("gonghuoshang")}},[r("simple-select",{attrs:{source:"supplier_3"},model:{value:e.form.supplierid,callback:function(t){e.$set(e.form,"supplierid",t)},expression:"form.supplierid"}})],1),e._v(" "),r("el-form-item",{attrs:{label:e._label("gonghuodanwei")}},[r("simple-select",{attrs:{source:"supplier_3"},model:{value:e.form.finalsupplierid,callback:function(t){e.$set(e.form,"finalsupplierid",t)},expression:"form.finalsupplierid"}})],1),e._v(" "),r("el-form-item",{attrs:{label:e._label("niandaijijie")}},[r("simple-select",{attrs:{source:"ageseason"},model:{value:e.form.ageseason,callback:function(t){e.$set(e.form,"ageseason",t)},expression:"form.ageseason"}})],1),e._v(" "),r("el-form-item",{attrs:{label:e._label("niandaileixing")}},[r("simple-select",{attrs:{source:"seasontype"},model:{value:e.form.seasontype,callback:function(t){e.$set(e.form,"seasontype",t)},expression:"form.seasontype"}})],1),e._v(" "),r("el-form-item",{attrs:{label:e._label("yewuleixing")}},[r("simple-select",{attrs:{source:"bussinesstype"},model:{value:e.form.bussinesstype,callback:function(t){e.$set(e.form,"bussinesstype",t)},expression:"form.bussinesstype"}})],1),e._v(" "),r("el-form-item",{attrs:{label:e._label("zhidanren")}},[r("sp-display-input",{attrs:{value:e.form.makestaff,source:"user"}})],1)],1),e._v(" "),r("el-col",{staticStyle:{width:"300px"},attrs:{span:4}},[r("el-form-item",{attrs:{label:e._label("fahuogang")}},[r("el-input",{model:{value:e.form.dispatchport,callback:function(t){e.$set(e.form,"dispatchport",t)},expression:"form.dispatchport"}})],1),e._v(" "),r("el-form-item",{attrs:{label:e._label("daohuogang")}},[r("el-input",{model:{value:e.form.deliveryport,callback:function(t){e.$set(e.form,"deliveryport",t)},expression:"form.deliveryport"}})],1),e._v(" "),r("el-form-item",{attrs:{label:e._label("daohuocangku"),prop:"warehouseid"}},[r("simple-select",{attrs:{source:"warehouse"},model:{value:e.form.warehouseid,callback:function(t){e.$set(e.form,"warehouseid",t)},expression:"form.warehouseid"}})],1),e._v(" "),r("el-form-item",{attrs:{label:e._label("haiwaifapiaohao")}},[r("el-input",{model:{value:e.form.invoiceno,callback:function(t){e.$set(e.form,"invoiceno",t)},expression:"form.invoiceno"}})],1),e._v(" "),r("el-form-item",{attrs:{label:e._label("zongjine")}},[r("sp-float-input",{staticClass:"input-with-select",attrs:{select_value:e.total_price,disabled:""}},[r("simple-select",{attrs:{source:"currency",clearable:!1,disabled:""},model:{value:e.form.currency,callback:function(t){e.$set(e.form,"currency",t)},expression:"form.currency"}})],1)],1),e._v(" "),r("el-form-item",{attrs:{label:e._label("huilv")}},[r("sp-float-input",{model:{value:e.form.exchangerate,callback:function(t){e.$set(e.form,"exchangerate",t)},expression:"form.exchangerate"}})],1),e._v(" "),r("el-form-item",{attrs:{label:e._label("zhidanriqi")}},[r("el-input",{attrs:{value:e.form.maketime,placeholder:e._label("zidonghuoqu"),disabled:""}})],1)],1)],1),e._v(" "),r("el-row",{attrs:{gutter:0}},[r("el-col",{staticStyle:{width:"600px"},attrs:{span:4}},[r("el-form-item",{staticClass:"twocols",attrs:{label:e._label("beizhu")}},[r("el-input",{staticStyle:{width:"400px"},model:{value:e.form.memo,callback:function(t){e.$set(e.form,"memo",t)},expression:"form.memo"}})],1)],1)],1)],1),e._v(" "),r("el-col",{staticStyle:{width:"300px"},attrs:{span:4}},[r("el-form-item",{attrs:{label:e._label("fukuanshijian")}},[r("el-date-picker",{attrs:{type:"date","value-format":"yyyy-MM-dd"},model:{value:e.form.paydate,callback:function(t){e.$set(e.form,"paydate",t)},expression:"form.paydate"}})],1),e._v(" "),r("el-form-item",{attrs:{label:e._label("zhifufangshi")}},[r("simple-select",{attrs:{source:"paytype"},model:{value:e.form.paytype,callback:function(t){e.$set(e.form,"paytype",t)},expression:"form.paytype"}})],1),e._v(" "),r("el-form-item",{staticClass:"mini font12",attrs:{label:e._label("anpaitihuoshijian")}},[r("el-date-picker",{attrs:{type:"date","value-format":"yyyy-MM-dd"},model:{value:e.form.apickingdate,callback:function(t){e.$set(e.form,"apickingdate",t)},expression:"form.apickingdate"}})],1),e._v(" "),r("el-form-item",{attrs:{label:e._label("daokushijian")}},[r("el-date-picker",{attrs:{type:"date","value-format":"yyyy-MM-dd"},model:{value:e.form.aarrivaldate,callback:function(t){e.$set(e.form,"aarrivaldate",t)},expression:"form.aarrivaldate"}})],1),e._v(" "),r("el-form-item",{attrs:{label:e._label("xiangshu")}},[r("el-input",{model:{value:e.form.box_number,callback:function(t){e.$set(e.form,"box_number",t)},expression:"form.box_number"}})],1),e._v(" "),r("el-form-item",{attrs:{label:e._label("zhongliang")}},[r("el-input",{model:{value:e.form.weight,callback:function(t){e.$set(e.form,"weight",t)},expression:"form.weight"}})],1),e._v(" "),r("el-form-item",{attrs:{label:e._label("tiji")}},[r("el-input",{model:{value:e.form.volume,callback:function(t){e.$set(e.form,"volume",t)},expression:"form.volume"}})],1),e._v(" "),r("el-form-item",{attrs:{label:e._label("jifeizhongliang")}},[r("el-input",{model:{value:e.form.chargedweight,callback:function(t){e.$set(e.form,"chargedweight",t)},expression:"form.chargedweight"}})],1)],1),e._v(" "),r("el-col",{staticStyle:{width:"300px"},attrs:{span:4}},[r("el-form-item",{attrs:{label:e._label("kongyunshang")}},[r("simple-select",{attrs:{source:"supplier"},model:{value:e.form.transcompany,callback:function(t){e.$set(e.form,"transcompany",t)},expression:"form.transcompany"}})],1),e._v(" "),r("el-form-item",{attrs:{label:e._label("yunshufangshi")}},[r("simple-select",{attrs:{source:"transporttype"},model:{value:e.form.transporttype,callback:function(t){e.$set(e.form,"transporttype",t)},expression:"form.transporttype"}})],1),e._v(" "),r("el-form-item",{attrs:{label:e._label("hangbanhao")}},[r("el-input",{model:{value:e.form.flightno,callback:function(t){e.$set(e.form,"flightno",t)},expression:"form.flightno"}})],1),e._v(" "),r("el-form-item",{attrs:{label:e._label("hangbanriqi")}},[r("el-date-picker",{attrs:{type:"date","value-format":"yyyy-MM-dd"},model:{value:e.form.flightdate,callback:function(t){e.$set(e.form,"flightdate",t)},expression:"form.flightdate"}})],1),e._v(" "),r("el-form-item",{attrs:{label:e._label("yujidaodariqi")}},[r("el-date-picker",{attrs:{type:"date","value-format":"yyyy-MM-dd"},model:{value:e.form.estimatedate,callback:function(t){e.$set(e.form,"estimatedate",t)},expression:"form.estimatedate"}})],1),e._v(" "),r("el-form-item",{attrs:{label:e._label("zhudanhao")}},[r("el-input",{model:{value:e.form.mblno,callback:function(t){e.$set(e.form,"mblno",t)},expression:"form.mblno"}})],1),e._v(" "),r("el-form-item",{attrs:{label:e._label("zidanhao")}},[r("el-input",{model:{value:e.form.hblno,callback:function(t){e.$set(e.form,"hblno",t)},expression:"form.hblno"}})],1)],1)],1)],1),e._v(" "),r("el-row",[r("el-col",{staticClass:"product",staticStyle:{"margin-top":"2px"},attrs:{span:24}},[r("el-table",{ref:"table",staticStyle:{width:"100%"},attrs:{data:e.orders,stripe:"",border:""},on:{"selection-change":e.onSelectionChange,"row-click":e.onRowClick}},[r("el-table-column",{attrs:{type:"selection",width:30,align:"center"}}),e._v(" "),r("el-table-column",{attrs:{prop:"orderno",label:e._label("dingdanbianhao"),width:"90",align:"center"},scopedSlots:e._u([{key:"default",fn:function(e){var t=e.row;return[r("sp-order-tip",{attrs:{column:"orderno",order:t,trigger:"hover"}})]}}])}),e._v(" "),r("el-table-column",{attrs:{label:e._label("gonghuoshang"),width:"120",align:"center"},scopedSlots:e._u([{key:"default",fn:function(e){var t=e.row;return[r("sp-select-text",{attrs:{value:t.supplierid,source:"supplier"}})]}}])}),e._v(" "),r("el-table-column",{attrs:{label:e._label("dinghuoshuliang"),width:"120",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){var r=t.row;return[e._v("\n            "+e._s(e.orderstat[r.id].totalCount)+"\n          ")]}}])}),e._v(" "),r("el-table-column",{attrs:{label:e._label("querenshuliang"),width:"120",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){var r=t.row;return[e._v("\n            "+e._s(e.orderstat[r.id].totalConfirmCount)+"\n          ")]}}])}),e._v(" "),r("el-table-column",{attrs:{label:e._label("shengyushuliang"),width:"120",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){var r=t.row;return[e._v("\n            "+e._s(e.orderstat[r.id].leftCount-e.currentstat[r.id])+"\n          ")]}}])}),e._v(" "),r("el-table-column",{attrs:{label:e._label("fahuoshuliang"),width:"120",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){var r=t.row;return[e._v("\n            "+e._s(e.currentstat[r.id]||0)+"\n          ")]}}])}),e._v(" "),r("el-table-column",{attrs:{label:e._label("niandai"),width:"90",align:"center"},scopedSlots:e._u([{key:"default",fn:function(e){var t=e.row;return[r("sp-select-text",{attrs:{value:t.ageseason,source:"ageseason"}})]}}])}),e._v(" "),r("el-table-column",{attrs:{label:e._label("bizhong"),width:"90",align:"center"},scopedSlots:e._u([{key:"default",fn:function(e){var t=e.row;return[r("sp-select-text",{attrs:{value:t.currency,source:"currency"}})]}}])}),e._v(" "),r("el-table-column",{attrs:{prop:"discount",label:e._label("zhekoulv"),width:"90",align:"center"}}),e._v(" "),r("el-table-column",{attrs:{label:e._label("yewuleixing"),width:"90",align:"center"},scopedSlots:e._u([{key:"default",fn:function(e){var t=e.row;return[r("sp-select-text",{attrs:{value:t.bussinesstype,source:"bussinesstype"}})]}}])}),e._v(" "),r("el-table-column",{attrs:{label:e._label("dingdanriqi"),width:"100",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){var r=t.row;return[e._v("\n            "+e._s(r.maketime&&r.maketime.length>0?r.maketime.substr(0,10):"")+"\n          ")]}}])})],1),e._v(" "),r("el-row",{attrs:{gutter:0}}),e._v(" "),r("el-row",{staticClass:"product clearpadding",staticStyle:{"margin-top":"3px"},attrs:{gutter:0}},[r("el-table",{ref:"tabledetail",staticStyle:{width:"100%"},attrs:{data:e.orderdetails,stripe:"",border:"","show-summary":!0,"summary-method":e.getSummary},on:{"selection-change":e.onSelectionChange2}},[r("el-table-column",{attrs:{type:"selection",width:30,align:"center"}}),e._v(" "),r("el-table-column",{attrs:{align:"center",width:"60"},scopedSlots:e._u([{key:"default",fn:function(t){return[r("img",{staticStyle:{width:"50px",height:"50px"},attrs:{src:e._fileLink(t.row.product.picture)}})]}}])}),e._v(" "),r("el-table-column",{attrs:{label:e._label("dinghuokehu"),align:"center",width:"150"}},[r("el-table-column",{attrs:{label:e._label("dinghuokehu"),align:"center",width:"150"},scopedSlots:e._u([{key:"default",fn:function(e){var t=e.row;return[r("sp-order-tip",{attrs:{column:"booking_label",order:t.order}})]}},{key:"header",fn:function(t){t.row;return[r("el-input",{attrs:{size:"mini"},model:{value:e.form2.suppliercode1,callback:function(t){e.$set(e.form2,"suppliercode1",t)},expression:"form2.suppliercode1"}})]}}])})],1),e._v(" "),r("el-table-column",{attrs:{label:e._label("guojima"),align:"center",width:"200"}},[r("el-table-column",{attrs:{label:e._label("guojima"),align:"center",width:"200"},scopedSlots:e._u([{key:"default",fn:function(e){return[r("sp-product-tip",{attrs:{product:e.row.product}})]}},{key:"header",fn:function(t){t.row;return[r("el-input",{attrs:{size:"mini"},model:{value:e.form2.keyword1,callback:function(t){e.$set(e.form2,"keyword1",t)},expression:"form2.keyword1"}})]}}])})],1),e._v(" "),r("el-table-column",{attrs:{prop:"label",label:e._label("bizhong"),width:"60",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){var n=t.row;return[r("sp-select-text",{attrs:{value:e.productStat[n.productid].currencyid,source:"currency"}})]}}])}),e._v(" "),r("el-table-column",{attrs:{prop:"label",label:e._label("chuchangjia"),width:"100",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){var n=t.row;return[r("asa-order-input",{attrs:{size:"mini"},on:{change:function(t){return e.changeDetail(n,"price")}},model:{value:n.factoryprice,callback:function(t){e.$set(n,"factoryprice",t)},expression:"row.factoryprice"}})]}}])}),e._v(" "),r("el-table-column",{attrs:{prop:"label",label:e._label("chengjiaojia"),width:"80",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){var n=t.row;return[r("asa-order-input",{attrs:{size:"mini"},on:{change:function(t){return e.changeDetail(n,"discount")}},model:{value:n.price,callback:function(t){e.$set(n,"price",t)},expression:"row.price"}})]}}])}),e._v(" "),r("el-table-column",{attrs:{prop:"label",label:e._label("zongjia"),width:"80",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){var r=t.row;return[e._v("\n              "+e._s(e.f(r.price*e.count[r.key]||0))+"\n            ")]}}])}),e._v(" "),r("el-table-column",{attrs:{label:e._label("zhekoulv"),width:"80",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){var n=t.row;return[r("asa-order-input",{attrs:{size:"mini"},on:{change:function(t){return e.changeDetail(n,"price")}},model:{value:n.discount,callback:function(t){e.$set(n,"discount",t)},expression:"row.discount"}})]}}])}),e._v(" "),r("el-table-column",{attrs:{prop:"number",label:e._label("dinggoushuliang"),align:"center",width:e.width},scopedSlots:e._u([{key:"default",fn:function(t){var n=t.row;return[r("sp-sizecontent-confirm4",{key:n.key,ref:n.product.id+"-"+n.order.id,attrs:{columns:n.product.sizecontents,head:n.form,uniq:n.key,data:e.getInit(n.key)},on:{change:e.onNumberChange}})]}}])}),e._v(" "),r("el-table-column",{attrs:{label:e._label("chanpinmingcheng"),align:"center",width:"200"},scopedSlots:e._u([{key:"default",fn:function(t){var n=t.row;return[r("el-popover",{attrs:{placement:"right",width:"60",trigger:"hover"}},[r("el-button",{attrs:{size:"mini",type:"primary"},on:{click:function(t){return e.copyit(n)}}},[e._v(e._s(e._label("fuzhi")))]),e._v(" "),r("span",{attrs:{slot:"reference"},slot:"reference"},[e._v(e._s(n.product.getName()))])],1)]}}])})],1)],1)],1)],1),e._v(" "),r("sp-dialog",{ref:"order-dialog",attrs:{"min-height":50}},[r("el-form",{staticStyle:{width:"100%"},attrs:{model:e.form,"label-width":"85px",inline:!1,size:"mini"}},[r("el-row",{attrs:{gutter:0}},[r("el-form-item",{attrs:{label:e._label("niandai")}},[r("simple-select",{attrs:{source:"ageseason"},model:{value:e.formimport.ageseason,callback:function(t){e.$set(e.formimport,"ageseason",t)},expression:"formimport.ageseason"}})],1),e._v(" "),r("el-form-item",{attrs:{label:e._label("gonghuoshang")}},[r("simple-select",{attrs:{source:"supplier_3"},model:{value:e.formimport.supplierid,callback:function(t){e.$set(e.formimport,"supplierid",t)},expression:"formimport.supplierid"}})],1)],1),e._v(" "),r("el-row",{attrs:{gutter:0}},[r("el-col",{attrs:{align:"center"}},[r("as-button",{attrs:{auth:"product",type:"primary"},on:{click:e.onSelect}},[e._v(e._s(e._label("daorudingdan")))]),e._v(" "),r("as-button",{attrs:{type:"primary"},on:{click:function(t){return e._hideDialog("order-dialog")}}},[e._v(e._s(e._label("tuichu")))])],1)],1)],1)],1)],1)},a=[],o={render:n,staticRenderFns:a};t.a=o}});