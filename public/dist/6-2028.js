webpackJsonp([6],{316:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=a(416),n=a(482),o=a(0),i=o(r.a,n.a,!1,null,null,null);t.default=i.exports},354:function(e,t,a){"use strict";a.d(t,"a",function(){return o});var r=a(141),n=a.n(r),o=function(e){var t={};return{get:function(a){return t[a]||(t[a]=n.a.cloneDeep(e)),t[a]},result:function(){return t}}}},355:function(e,t,a){"use strict";var r=a(58);t.a={methods:{formatNumber:function(e){return Object(r.b)(e,3)},f:function(e){return Object(r.b)(e,2)}}}},356:function(e,t,a){"use strict";var r=a(14),n=a(79),o=function(e){return{forEach:function(t){Object(n.a)(e.form).forEach(function(e,a){t({number:e,sizecontentid:a})})}}};t.a={name:"sp-sizecontent-confirm4",props:{disabled:{type:Boolean,default:!1},columns:{type:Array},head:{type:[Object],require:!0},data:{},uniq:{}},data:function(){var e=this,t={};return e.columns.forEach(function(e){t[e.id]=""}),e.data.forEach(function(e){var a=e.sizecontentid,r=e.number;t[a]=r}),{form:t,tabledata:[[]]}},methods:{distributeTo:function(){var e=this,t=e.form;o(e).forEach(function(a){var r=a.sizecontentid;a.number;t[r]="",t[key]=e.head[r]?e.head[r]:""}),e.onChange()},onFocus:function(e){this.$refs[e][0].select()},getLineTotal:function(e){var t=0;return Object(n.a)(e).forEach(function(e){e>0&&(t+=1*e)}),t},getBodyRowTotal:function(e){var t=0;return o(this).forEach(function(e){e.number>0&&(t+=1*e.number)}),t},onChange:function(){var e=this,t=[];o(this).forEach(function(a){a.key=e.uniq,t.push(a)}),e.$emit("change",t)},rowClassName:function(e){var t=e.row;e.rowIndex;return"foot"==t.type?"sumline":""},cellClassName:function(e){var t=(e.row,e.column,e.rowIndex,e.columnIndex);return this.columns.length+2==t?"counter sumtotal":this.columns.length+1==t?"counter sumcolumn":"counter"},selectAll:function(){var e=this;Object(r.c)(e.form,e.head),e.onChange()}},computed:{rows:function(){var e=this,t=[];t.push({type:"head",form:e.head});var a={};return e.columns.forEach(function(e){a[e.id]||(a[e.id]="")}),t.push({type:"body",form:a}),t}}}},357:function(e,t,a){"use strict";var r=a(75),n=a.n(r),o=a(195);t.a={name:"asa-select-product-dialog",components:n()({},o.a.name,o.a),props:{visible:{type:Boolean},brandids:{type:String,default:""},genders:{type:String,default:""}},data:function(){return{dialogVisible:this.visible}},methods:{onSelect:function(e){var t=this;t.dialogVisible=!1,t.$emit("select",e)},onClose:function(){this.dialogVisible=!1},search:function(e){var t=this;setTimeout(function(){t.$refs.panel.search(e)},100)}},watch:{dialogVisible:function(e){this.$emit("update:visible",e)},visible:function(e){this.dialogVisible=e}}}},359:function(e,t,a){"use strict";var r=a(356),n=a(360),o=a(0),i=o(r.a,n.a,!1,null,null,null);t.a=i.exports},360:function(e,t,a){"use strict";var r=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"sizecontent"},[a("el-table",{staticStyle:{width:"100%"},attrs:{data:e.rows,border:!1,"row-class-name":e.rowClassName,"cell-class-name":e.cellClassName}},[e._l(e.columns,function(t){return a("el-table-column",{key:t.id,staticClass:"counter",attrs:{label:t.name,align:"center",width:"50"},scopedSlots:e._u([{key:"default",fn:function(r){var n=r.row;return["head"==n.type?a("el-input",{staticClass:"linetop",staticStyle:{width:"50px"},attrs:{size:"mini",disabled:!0},model:{value:n.form[t.id],callback:function(a){e.$set(n.form,t.id,a)},expression:"row.form[column.id]"}}):e._e(),e._v(" "),"body"==n.type?a("el-input",{ref:t.id,refInFor:!0,staticStyle:{width:"50px"},attrs:{size:"mini",disabled:e.disabled},on:{focus:function(a){return e.onFocus(t.id)}},nativeOn:{keyup:function(t){return e.onChange(n)}},model:{value:e.form[t.id],callback:function(a){e.$set(e.form,t.id,a)},expression:"form[column.id]"}}):e._e()]}}],null,!0)})}),e._v(" "),a("el-table-column",{attrs:{label:e._label("heji"),align:"right",width:"53"},scopedSlots:e._u([{key:"default",fn:function(t){var r=t.row;return["head"==r.type?a("el-input",{staticClass:"linetop",staticStyle:{width:"50px"},attrs:{value:e.getLineTotal(r.form),size:"mini",disabled:!0}}):e._e(),e._v(" "),"body"==r.type?a("el-input",{staticClass:"inputsum",staticStyle:{width:"50px"},attrs:{value:e.getBodyRowTotal(),size:"mini",disabled:!0}}):e._e()]}}])})],2)],1)},n=[],o={render:r,staticRenderFns:n};t.a=o},361:function(e,t,a){"use strict";var r=a(357),n=a(362),o=a(0),i=o(r.a,n.a,!1,null,null,null);t.a=i.exports},362:function(e,t,a){"use strict";var r=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("el-dialog",{attrs:{visible:e.dialogVisible,center:!0,fullscreen:!1,modal:!0,width:"1200px"},on:{"update:visible":function(t){e.dialogVisible=t}}},[a("asa-product-search-panel",{ref:"panel",attrs:{brandids:e.brandids,genders:e.genders},on:{select:e.onSelect,close:e.onClose}})],1)},n=[],o={render:r,staticRenderFns:n};t.a=o},416:function(e,t,a){"use strict";var r,n=a(78),o=a.n(n),i=a(5),l=a.n(i),s=a(18),c=a.n(s),u=a(22),d=a.n(u),f=a(24),p=a.n(f),m=a(9),b=a.n(m),h=a(13),v=a.n(h),_=a(75),g=a.n(_),y=a(38),w=a(2),k=a(14),x=a(79),$=a(355),S=a(54),z=a(193),C=a(354),j=a(480),E=a(359),q=a(361),D=a(142),O={name:"sp-warehousing",components:(r={AsaProduct:D.a},g()(r,j.a.name,j.a),g()(r,E.a.name,E.a),g()(r,q.a.name,q.a),r),mixins:[$.a],data:function(){var e=this,t=e._label;return{form:{supplierid:"",finalsupplierid:"",ageseason:"",seasontype:"",property:"",currency:"",bussinesstype:"",warehouseid:"",total:"",exchangerate:"",orderno:"",paydate:"",dd_company:"",apickingdate:"",flightno:"",flightdate:"",mblno:"",hblno:"",dispatchport:"",deliveryport:"",box_number:"",weight:"",volume:"",chargedweight:"",transcompany:"",invoiceno:"",aarrivaldate:"",buyerid:"",sellerid:"",transporttype:"",paytype:"",estimatedate:"",maketime:"",makestaff:"",id:"",status:""},form2:{supplierid:"",keyword:"",keyword1:"",suppliercode1:"",suppliercode:""},tabledata:[],shippingdetails:[],orderbranddetails:[],listdata:[],costs:[],uniqkey:1,visible:!1,pro:!1,orderpayment:{columns:[{name:"feenameid",label:t("feiyongmingcheng"),type:"select",source:"feename",width:110},{name:"currencyid",label:t("bizhong"),type:"select",source:"currency",width:90},{name:"amount",label:t("jine"),width:110},{name:"exchangerate",label:t("huilv"),width:110},{name:"memo",label:t("beizhu"),width:110},{name:"makestaff",label:t("tijiaoren"),type:"select",source:"user",is_edit_hide:!0,width:110}],controller:"shippingfee",auth:"shippingfee",base:{shippingid:""},options:{isedit:function(t){return e.form.status>0&&"3"!=e.form.status},isdelete:function(t){return e.form.status>0&&"3"!=e.form.status},isAdd:function(){return e.form.status>0&&"3"!=e.form.status},isSearch:!1,isAutoReload:!0}}}},methods:{onClick:function(e){this.$refs.product.edit(!0).setInfo(e).then(function(e){return e.show(!1)})},loadDetail:function(){var e=this;M(e).loadDetail(e.$route.params.id)},loadExchangerate:function(e,t){var a=this;return v()(b.a.mark(function r(){var n,o;return b.a.wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return n=a,console.log(e,t),e.exchangerate="",r.next=5,y.a.getExchange(e.currencyid,n.form.currency);case 5:o=r.sent,""==e.exchangerate&&(e.exchangerate=o);case 7:case"end":return r.stop()}},r,a)}))()},showPayment:function(){var e=this;e.orderpayment.base.shippingid=e.form.id,e._showDialog("orderpayment")},onSelectProduct:function(e){M(this).appendRow({productid:e.id,product:e,discount:1,price:"",form:{}})},onNumberChange:function(e){var t=this;e.forEach(function(e){var a=e.number,r=e.key,n=e.sizecontentid,o=t.listdata.find(function(e){return e.key==r&&e.sizecontentid==n});o?o.number=a:t.listdata.push({key:r,number:a,sizecontentid:n})})},search:function(e){var t=this;t.pro=!0,t.$refs.products.search(e)},saveInfo:function(){var e=this;e._submit("/shipping/saveinfo",e.form).then(function(t){M(e).loadDetail(e.$route.params.id)})},confirmShipping:function(e){var t=this;if(confirm(t._label("confirm-ruku"))){var a={form:t.form},r=!0,n=[];t.listdata.forEach(function(e){var a=e.key,o=e.sizecontentid,i=e.number;if(!(i<=0)){var l=t.tabledata.find(function(e){return e.key==a}),s=t.shippingdetails.find(function(e){return e.productid==l.product.id&&e.orderid==l.orderid&&e.sizecontentid==o&&e.orderbrandid==l.orderbrandid});l.price<=0&&(alert(t._label("tip-jiagebunengweikong")),r=!1),n.push({sizecontentid:o,number:i,productid:l.product.id,discount:l.discount,price:l.price,id:s?s.id:0})}}),a.list=n,t._log(p()(a)),t._submit("/shipping/confirm",{params:p()(a)}).then(function(e){M(t).loadDetail(t.$route.params.id)})}},warehousing:function(){var e=this;confirm(e._label("quxiaorukutishi"))&&e._submit("/shipping/warehousing",e.form).then(function(t){M(e).loadDetail(e.$route.params.id)})},cancelWarehousing:function(){var e=this;confirm(e._label("quxiaorukutishi"))&&e._submit("/shipping/cancel",{id:e.form.id}).then(function(t){M(e).loadDetail(e.$route.params.id)})},cancelConfirm:function(){var e=this;confirm(e._label("quxiaorukutishi"))&&e._submit("/shipping/cancelconfirm",{id:e.form.id}).then(function(t){M(e).loadDetail(e.$route.params.id)})},getInit:function(e){var t=[];return this.listdata.forEach(function(a){var r=a.sizecontentid,n=a.number,o=a.key;e==o&&t.push({sizecontentid:r,number:n})}),t},deleteOrder:function(){var e=this;e.form.id&&e._remove("/confirmorder/delete",{id:e.form.id}).then(function(t){e.$emit("change",e.form,"delete")})},onChange:function(e){var t=e.row,a=e.form,r=e.total;t.form=a,t.confirm_total=r},onSelect:function(e){M(this).appendRow({source:e,id:"",price:e.price})},getSummary:function(e){var t=e.columns,a=e.data,r=this,n=[];return t.forEach(function(e,t){if(0==t)return void(n[t]=r._label("heji"));5==t||9==t?n[t]=a.reduce(function(e,t){return e+r.count[t.key]},0):10==t?n[t]=r.total_price:11==t?n[t]=r.shippingdetails.reduce(function(e,t){return e+1*t.number},0):12==t&&(n[t]=r.shippingdetails.reduce(function(e,t){return e+t.number*t.price},0),n[t]=r.f(n[t]))}),n[2]=a.length,n}},computed:{isAddFee:function(){return"3"!=this.form.status},orderdetails:function(){var e=this,t=e.form2.keyword.toUpperCase(),a=e.form2.suppliercode.toUpperCase(),r=M(e).isMatch;return e.tabledata.filter(function(n){return e._log(n,t,a),r(t,n.product.getGoodsCode(""))&&(n.order&&r(a,n.order.booking_label.toUpperCase())||!n.order&&!a)})},width:function(){return 51*this.tabledata.reduce(function(e,t){var a=t.product;return Math.max(e,a.sizecontents.length)},1)+75},count:function(){var e=this,t={};return e.tabledata.forEach(function(e){return t[e.key]=0}),e.listdata.forEach(function(e){var a=e.key,r=e.number;t[a]+=1*r}),t},shippingCount:function(){var e=this,t=e._newbox(),a=!0,r=!1,n=void 0;try{for(var o,i=d()(e.tabledata);!(a=(o=i.next()).done);a=!0){var l=o.value;t[l.key]=0;var s=!0,u=!1,f=void 0;try{for(var p,m=d()(c()(l.form));!(s=(p=m.next()).done);s=!0){var b=p.value;t[l.key]+=1*l.form[b]}}catch(e){u=!0,f=e}finally{try{!s&&m.return&&m.return()}finally{if(u)throw f}}}}catch(e){r=!0,n=e}finally{try{!a&&i.return&&i.return()}finally{if(r)throw n}}return t},total_price:function(){var e=this,t=0;return e.listdata.forEach(function(a){var r=a.key,n=a.number,o=e.tabledata.find(function(e){return e.key==r});t+=o.price*n}),e.f(t)},productStat:function(){var e=this,t=Object(C.a)({currencyid:""});return e.tabledata.forEach(function(e){var a=e.product;t.get(a.id).currencyid=a.factorypricecurrency}),t.result()},isDisabled:function(){return"1"!=this.form.status},costPrice:function(){var e=this,t={};return e.tabledata.forEach(function(e){t[e.product.id]=e.price}),e.costs.forEach(function(a){t[a.productid]=e.f(a.amount/a.number)}),t}},watch:{"form2.keyword1":function(e){this.copyKeywordDebounce()},"form2.suppliercode1":function(e){this.copySuppliercodeDebounce()}},mounted:function(){var e=this;e.copyKeywordDebounce=Object(z.b)(function(){e.form2.keyword=e.form2.keyword1},1e3,!1),e.copySuppliercodeDebounce=Object(z.b)(function(){e.form2.suppliercode=e.form2.suppliercode1},1e3,!1),M(e).loadDetail(e.$route.params.id)}},M=function(e){var t,a=(t={isMatch:function(e,t){return!(e.length>0)||t.toUpperCase().indexOf(e)>=0},appendRow:function(t){t.key=w.c.random(10),e.tabledata.unshift(t),e.form.currency=e.productStat[t.product.id].currencyid},convert:function(e){var t=this;return v()(b.a.mark(function a(){var r,n;return b.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return r={},e.forEach(function(e){var t=e.price+"-"+e.productid+"-"+e.orderid;if(r[t])r[t].form[e.sizecontentid]=e.number,r[t].total+=e.number;else{var a={};a[e.sizecontentid]=e.number,r[t]={key:t,productid:e.productid,orderbrandid:e.orderbrandid,orderid:e.orderid,discount:e.discount,factoryprice:e.factoryprice,total:1*e.number,form:a,price:e.price}}}),n=[],Object(x.a)(r).forEach(function(e){var t=Object(S.i)(e);e.orderid>0&&t.push(S.b.load({data:e.orderid,depth:1}),"order"),t.push(S.d.load({data:e.productid,depth:1}),"product"),n.push(t.all())}),t.next=6,l.a.all(n);case 6:return t.abrupt("return",t.sent);case 7:case"end":return t.stop()}},a,t)}))()}},g()(t,"appendRow",function(t){t.key=e.uniqkey,e.tabledata.push(t),e.uniqkey++}),g()(t,"importList",function(t){var r=this;return v()(b.a.mark(function n(){var i,l,s,c,u,f,p,m,h,v,_,g,y,w,k;return b.a.wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return e.shippingdetails=[],e.tabledata=[],e.listdata=[],(i=e.shippingdetails).push.apply(i,o()(t)),r.next=6,a.convert(t);case 6:for(l=r.sent,s=!0,c=!1,u=void 0,r.prev=10,f=d()(l);!(s=(p=f.next()).done);s=!0)m=p.value,a.appendRow(m);r.next=18;break;case 14:r.prev=14,r.t0=r.catch(10),c=!0,u=r.t0;case 18:r.prev=18,r.prev=19,!s&&f.return&&f.return();case 21:if(r.prev=21,!c){r.next=24;break}throw u;case 24:return r.finish(21);case 25:return r.finish(18);case 26:for(h=function(t){var a=e.tabledata.find(function(e){return e.productid==t.productid&&e.price==t.price&&e.orderid==t.orderid});e.listdata.push({key:a.key,sizecontentid:t.sizecontentid,number:t.warehousingnumber})},v=!0,_=!1,g=void 0,r.prev=30,y=d()(t);!(v=(w=y.next()).done);v=!0)k=w.value,h(k);r.next=38;break;case 34:r.prev=34,r.t1=r.catch(30),_=!0,g=r.t1;case 38:r.prev=38,r.prev=39,!v&&y.return&&y.return();case 41:if(r.prev=41,!_){r.next=44;break}throw g;case 44:return r.finish(41);case 45:return r.finish(38);case 46:case"end":return r.stop()}},n,r,[[10,14,18,26],[19,,21,25],[30,34,38,46],[39,,41,45]])}))()}),g()(t,"loadDetail",function(t){e._setTitle("Loading..."),e._fetch("/shipping/load",{id:t}).then(function(){var t=v()(b.a.mark(function t(r){var n,o,i,l,s,c=r.data;return b.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:n=c.form,o=c.orderbrands,i=c.orderbranddetails,l=c.shippingdetails,s=c.costs,Object(k.a)(n,e.form),a.importList(l),e.orderbranddetails=i,s&&(e.costs=[],Object(x.a)(s).forEach(function(t){e.costs.push(t)})),e._setTitle(e._label("fahuodanruku")+":"+e.form.orderno);case 6:case"end":return t.stop()}},t,this)}));return function(e){return t.apply(this,arguments)}}())}),t);return a};t.a=O},417:function(e,t,a){"use strict";var r=a(9),n=a.n(r),o=a(78),i=a.n(o),l=a(13),s=a.n(l);t.a={name:"sp-simple-order-list",props:{shippingid:{}},data:function(){return{tabledata:[]}},methods:{openit:function(e){this._open("/ordersimple/"+e)},show:function(){var e=this;return s()(n.a.mark(function t(){var a,r,o,l;return n.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return r=e,t.next=3,r._fetch("/shippingsimple/orderlist",{id:r.shippingid});case 3:o=t.sent,l=o.data,r.tabledata=[],(a=r.tabledata).push.apply(a,i()(l)),r._showDialog("dialog");case 8:case"end":return t.stop()}},t,e)}))()}}}},480:function(e,t,a){"use strict";var r=a(417),n=a(481),o=a(0),i=o(r.a,n.a,!1,null,null,null);t.a=i.exports},481:function(e,t,a){"use strict";var r=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("sp-dialog",{ref:"dialog",staticClass:"product clearpadding",attrs:{width:"1200"}},[a("el-table",{staticStyle:{width:"100%","margin-top":"10px"},attrs:{data:e.tabledata,stripe:"",border:""}},[a("el-table-column",{attrs:{label:e._label("dingdanbianhao"),align:"center",width:"130"},scopedSlots:e._u([{key:"default",fn:function(t){var r=t.row;return[a("el-button",{on:{click:function(t){return e.openit(r.id)}}},[e._v(e._s(r.orderno))])]}}])}),e._v(" "),a("el-table-column",{attrs:{label:e._label("gonghuoshang"),align:"center",width:"100"},scopedSlots:e._u([{key:"default",fn:function(e){var t=e.row;e.$index;return[a("sp-select-text",{attrs:{value:t.bookingid,source:"supplier"}})]}}])}),e._v(" "),a("el-table-column",{attrs:{label:e._label("gonghuoshang"),align:"center",width:"100"},scopedSlots:e._u([{key:"default",fn:function(e){var t=e.row;e.$index;return[a("sp-select-text",{attrs:{value:t.supplierid,source:"supplier"}})]}}])}),e._v(" "),a("el-table-column",{attrs:{label:e._label("niandaijijie"),width:"100",align:"center"},scopedSlots:e._u([{key:"default",fn:function(e){var t=e.row;return[a("sp-select-text",{attrs:{value:t.ageseason,source:"ageseason"}})]}}])}),e._v(" "),a("el-table-column",{attrs:{label:e._label("yewuleixing"),width:"80",align:"center"},scopedSlots:e._u([{key:"default",fn:function(e){var t=e.row;return[a("sp-select-text",{attrs:{value:t.bussinesstype,source:"bussinesstype"}})]}}])}),e._v(" "),a("el-table-column",{attrs:{label:e._label("bizhong"),width:"80",align:"center"},scopedSlots:e._u([{key:"default",fn:function(e){var t=e.row;return[a("sp-select-text",{attrs:{value:t.currency,source:"currency"}})]}}])}),e._v(" "),a("el-table-column",{attrs:{label:e._label("jine"),width:"80",align:"center",prop:"total"}}),e._v(" "),a("el-table-column",{attrs:{label:e._label("zhekoulv"),width:"80",align:"center",prop:"discount"}}),e._v(" "),a("el-table-column",{attrs:{label:e._label("dingdanriqi"),width:"100",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){var a=t.row;return[e._v("\n        "+e._s(a.maketime&&a.maketime.length>0?a.maketime.substr(0,10):"")+"\n      ")]}}])}),e._v(" "),a("el-table-column",{attrs:{label:e._label("xingbie"),width:"150",align:"center"},scopedSlots:e._u([{key:"default",fn:function(e){var t=e.row;return[a("sp-select-text",{attrs:{value:t.genders,source:"gender"}})]}}])}),e._v(" "),a("el-table-column",{attrs:{label:e._label("pinpai"),align:"center"},scopedSlots:e._u([{key:"default",fn:function(e){var t=e.row;return[a("sp-select-text",{attrs:{value:t.brandids,source:"brand"}})]}}])})],1)],1)},n=[],o={render:r,staticRenderFns:n};t.a=o},482:function(e,t,a){"use strict";var r=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("el-form",{staticClass:"order-form",staticStyle:{width:"100%"},attrs:{model:e.form,"label-width":"85px",inline:!0,size:"mini"}},[a("el-row",{attrs:{gutter:0}},[a("asa-button",{attrs:{enable:e.form.status>0},on:{click:function(t){return e.saveInfo()}}},[e._v(e._s(e._label("baocunxinxi")))]),e._v(" "),a("asa-button",{attrs:{enable:"1"==e.form.status},on:{click:function(t){return e.confirmShipping()}}},[e._v(e._s(e._label("querenruku")))]),e._v(" "),a("asa-button",{attrs:{enable:"1"==e.form.status},on:{click:function(t){e.pro=!0}}},[e._v(e._s(e._label("xuanzeshangpin")))]),e._v(" "),a("asa-button",{attrs:{enable:"2"==e.form.status},on:{click:function(t){return e.cancelConfirm()}}},[e._v(e._s(e._label("quxiaoqueren")))]),e._v(" "),a("asa-button",{attrs:{enable:"2"==e.form.status},on:{click:function(t){return e.warehousing()}}},[e._v(e._s(e._label("feiyongshuqi")))]),e._v(" "),a("asa-button",{attrs:{enable:"3"==e.form.status},on:{click:function(t){return e.cancelWarehousing()}}},[e._v(e._s(e._label("quxiao")))]),e._v(" "),a("asa-button",{attrs:{enable:e.form.status>0},on:{click:function(t){return e.showPayment()}}},[e._v(e._s(e._label("feiyong")))]),e._v(" "),a("asa-button",{attrs:{enable:e.form.id>0},on:{click:function(t){return e.$refs.qiancha.show()}}},[e._v(e._s(e._label("qiancha")))])],1),e._v(" "),a("el-row",{attrs:{gutter:0}},[a("el-col",{staticStyle:{width:"600px"},attrs:{span:8}},[a("el-row",{attrs:{gutter:0}},[a("el-col",{staticStyle:{width:"300px"},attrs:{span:4}},[a("el-form-item",{attrs:{label:e._label("fahuodanhao")}},[a("el-input",{attrs:{disabled:!0},model:{value:e.form.orderno,callback:function(t){e.$set(e.form,"orderno",t)},expression:"form.orderno"}})],1),e._v(" "),a("el-form-item",{attrs:{label:e._label("gonghuoshang")}},[a("simple-select",{attrs:{source:"supplier_3"},model:{value:e.form.supplierid,callback:function(t){e.$set(e.form,"supplierid",t)},expression:"form.supplierid"}})],1),e._v(" "),a("el-form-item",{attrs:{label:e._label("gonghuodanwei")}},[a("simple-select",{attrs:{source:"supplier_3"},model:{value:e.form.finalsupplierid,callback:function(t){e.$set(e.form,"finalsupplierid",t)},expression:"form.finalsupplierid"}})],1),e._v(" "),a("el-form-item",{attrs:{label:e._label("niandaijijie")}},[a("simple-select",{attrs:{source:"ageseason"},model:{value:e.form.ageseason,callback:function(t){e.$set(e.form,"ageseason",t)},expression:"form.ageseason"}})],1),e._v(" "),a("el-form-item",{attrs:{label:e._label("niandaileixing")}},[a("simple-select",{attrs:{source:"seasontype"},model:{value:e.form.seasontype,callback:function(t){e.$set(e.form,"seasontype",t)},expression:"form.seasontype"}})],1),e._v(" "),a("el-form-item",{attrs:{label:e._label("yewuleixing")}},[a("simple-select",{attrs:{source:"bussinesstype"},model:{value:e.form.bussinesstype,callback:function(t){e.$set(e.form,"bussinesstype",t)},expression:"form.bussinesstype"}})],1),e._v(" "),a("el-form-item",{attrs:{label:e._label("zhidanren")}},[a("sp-display-input",{attrs:{value:e.form.makestaff,source:"currentUsers"}})],1)],1),e._v(" "),a("el-col",{staticStyle:{width:"300px"},attrs:{span:4}},[a("el-form-item",{attrs:{label:e._label("fahuogang")}},[a("el-input",{model:{value:e.form.dispatchport,callback:function(t){e.$set(e.form,"dispatchport",t)},expression:"form.dispatchport"}})],1),e._v(" "),a("el-form-item",{attrs:{label:e._label("daohuogang")}},[a("el-input",{model:{value:e.form.deliveryport,callback:function(t){e.$set(e.form,"deliveryport",t)},expression:"form.deliveryport"}})],1),e._v(" "),a("el-form-item",{attrs:{label:e._label("daohuocangku")}},[a("simple-select",{attrs:{source:"warehouses"},model:{value:e.form.warehouseid,callback:function(t){e.$set(e.form,"warehouseid",t)},expression:"form.warehouseid"}})],1),e._v(" "),a("el-form-item",{attrs:{label:e._label("haiwaifapiaohao")}},[a("el-input",{model:{value:e.form.invoiceno,callback:function(t){e.$set(e.form,"invoiceno",t)},expression:"form.invoiceno"}})],1),e._v(" "),a("el-form-item",{attrs:{label:e._label("zongjine")}},[a("sp-float-input",{staticClass:"input-with-select",attrs:{placeholder:"",select_value:e.total_price,disabled:""}},[a("simple-select",{attrs:{source:"currency",clearable:!1,disabled:""},model:{value:e.form.currency,callback:function(t){e.$set(e.form,"currency",t)},expression:"form.currency"}})],1)],1),e._v(" "),a("el-form-item",{attrs:{label:e._label("huilv")}},[a("sp-float-input",{attrs:{disabled:"3"==e.form.status},model:{value:e.form.exchangerate,callback:function(t){e.$set(e.form,"exchangerate",t)},expression:"form.exchangerate"}})],1),e._v(" "),a("el-form-item",{attrs:{label:e._label("zhidanriqi")}},[a("el-input",{attrs:{value:e.form.maketime,placeholder:e._label("zidonghuoqu"),disabled:""}})],1)],1)],1),e._v(" "),a("el-row",{attrs:{gutter:0}},[a("el-col",{staticStyle:{width:"600px"},attrs:{span:4}},[a("el-form-item",{staticClass:"twocols",attrs:{label:e._label("beizhu")}},[a("el-input",{staticStyle:{width:"400px"},model:{value:e.form.memo,callback:function(t){e.$set(e.form,"memo",t)},expression:"form.memo"}})],1)],1)],1)],1),e._v(" "),a("el-col",{staticStyle:{width:"300px"},attrs:{span:4}},[a("el-form-item",{attrs:{label:e._label("fukuanshijian")}},[a("el-date-picker",{attrs:{type:"date","value-format":"yyyy-MM-dd"},model:{value:e.form.paydate,callback:function(t){e.$set(e.form,"paydate",t)},expression:"form.paydate"}})],1),e._v(" "),a("el-form-item",{attrs:{label:e._label("zhifufangshi")}},[a("simple-select",{attrs:{source:"paytype"},model:{value:e.form.paytype,callback:function(t){e.$set(e.form,"paytype",t)},expression:"form.paytype"}})],1),e._v(" "),a("el-form-item",{staticClass:"mini font12",attrs:{label:e._label("anpaitihuoshijian")}},[a("el-date-picker",{attrs:{type:"date","value-format":"yyyy-MM-dd"},model:{value:e.form.apickingdate,callback:function(t){e.$set(e.form,"apickingdate",t)},expression:"form.apickingdate"}})],1),e._v(" "),a("el-form-item",{attrs:{label:e._label("daokushijian")}},[a("el-date-picker",{attrs:{type:"date","value-format":"yyyy-MM-dd"},model:{value:e.form.aarrivaldate,callback:function(t){e.$set(e.form,"aarrivaldate",t)},expression:"form.aarrivaldate"}})],1),e._v(" "),a("el-form-item",{attrs:{label:e._label("xiangshu")}},[a("el-input",{model:{value:e.form.box_number,callback:function(t){e.$set(e.form,"box_number",t)},expression:"form.box_number"}})],1),e._v(" "),a("el-form-item",{attrs:{label:e._label("zhongliang")}},[a("el-input",{model:{value:e.form.weight,callback:function(t){e.$set(e.form,"weight",t)},expression:"form.weight"}})],1),e._v(" "),a("el-form-item",{attrs:{label:e._label("tiji")}},[a("el-input",{model:{value:e.form.volume,callback:function(t){e.$set(e.form,"volume",t)},expression:"form.volume"}})],1),e._v(" "),a("el-form-item",{attrs:{label:e._label("jifeizhongliang")}},[a("el-input",{model:{value:e.form.chargedweight,callback:function(t){e.$set(e.form,"chargedweight",t)},expression:"form.chargedweight"}})],1)],1),e._v(" "),a("el-col",{staticStyle:{width:"300px"},attrs:{span:4}},[a("el-form-item",{attrs:{label:e._label("kongyunshang")}},[a("simple-select",{attrs:{source:"supplier"},model:{value:e.form.transcompany,callback:function(t){e.$set(e.form,"transcompany",t)},expression:"form.transcompany"}})],1),e._v(" "),a("el-form-item",{attrs:{label:e._label("yunshufangshi")}},[a("simple-select",{attrs:{source:"transporttype"},model:{value:e.form.transporttype,callback:function(t){e.$set(e.form,"transporttype",t)},expression:"form.transporttype"}})],1),e._v(" "),a("el-form-item",{attrs:{label:e._label("hangbanhao")}},[a("el-input",{model:{value:e.form.flightno,callback:function(t){e.$set(e.form,"flightno",t)},expression:"form.flightno"}})],1),e._v(" "),a("el-form-item",{attrs:{label:e._label("hangbanriqi")}},[a("el-date-picker",{attrs:{type:"date","value-format":"yyyy-MM-dd"},model:{value:e.form.flightdate,callback:function(t){e.$set(e.form,"flightdate",t)},expression:"form.flightdate"}})],1),e._v(" "),a("el-form-item",{attrs:{label:e._label("yujidaodariqi")}},[a("el-date-picker",{attrs:{type:"date","value-format":"yyyy-MM-dd"},model:{value:e.form.estimatedate,callback:function(t){e.$set(e.form,"estimatedate",t)},expression:"form.estimatedate"}})],1),e._v(" "),a("el-form-item",{attrs:{label:e._label("zhudanhao")}},[a("el-input",{model:{value:e.form.mblno,callback:function(t){e.$set(e.form,"mblno",t)},expression:"form.mblno"}})],1),e._v(" "),a("el-form-item",{attrs:{label:e._label("zidanhao")}},[a("el-input",{model:{value:e.form.hblno,callback:function(t){e.$set(e.form,"hblno",t)},expression:"form.hblno"}})],1),e._v(" "),a("el-form-item",{attrs:{label:e._label("beizhu")}},[a("el-input",{model:{value:e.form.memo,callback:function(t){e.$set(e.form,"memo",t)},expression:"form.memo"}})],1)],1)],1)],1),e._v(" "),a("el-row",[a("el-col",{staticClass:"product",attrs:{span:24}},[a("el-table",{staticStyle:{width:"100%"},attrs:{data:e.orderdetails,stripe:"",border:"","show-summary":!0,"summary-method":e.getSummary}},[a("el-table-column",{attrs:{align:"center",width:"60"},scopedSlots:e._u([{key:"default",fn:function(t){var r=t.row;return[a("img",{staticStyle:{width:"50px",height:"50px"},attrs:{src:e._fileLink(r.product.picture)}})]}}])}),e._v(" "),a("el-table-column",{attrs:{label:e._label("dinghuokehu"),align:"center",width:"150"}},[a("el-table-column",{attrs:{label:e._label("dinghuokehu"),align:"center",width:"150"},scopedSlots:e._u([{key:"default",fn:function(t){var r=t.row;return[r.order?a("sp-order-tip",{attrs:{column:"booking_label",order:r.order}}):e._e()]}},{key:"header",fn:function(t){t.row;return[a("el-input",{attrs:{size:"mini"},model:{value:e.form2.suppliercode1,callback:function(t){e.$set(e.form2,"suppliercode1",t)},expression:"form2.suppliercode1"}})]}}])})],1),e._v(" "),a("el-table-column",{attrs:{label:e._label("guojima"),align:"center",width:"200"}},[a("el-table-column",{attrs:{label:e._label("guojima"),align:"center",width:"200"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-link",{attrs:{type:"primary",size:"mini"},on:{click:function(a){return e.onClick(t.row.product)}}},[e._v("\n                "+e._s(t.row.product.getGoodsCode())+"\n              ")])]}},{key:"header",fn:function(t){t.row;return[a("el-input",{attrs:{size:"mini"},model:{value:e.form2.keyword1,callback:function(t){e.$set(e.form2,"keyword1",t)},expression:"form2.keyword1"}})]}}])})],1),e._v(" "),a("el-table-column",{attrs:{prop:"label",label:e._label("bizhong"),width:"60",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){var r=t.row;return[a("sp-select-text",{attrs:{value:e.productStat[r.productid].currencyid,source:"currency"}})]}}])}),e._v(" "),a("el-table-column",{attrs:{prop:"label",label:e._label("chuchangjia"),width:"100",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){var a=t.row;return[e._v("\n            "+e._s(a.factoryprice)+"\n          ")]}}])}),e._v(" "),a("el-table-column",{attrs:{prop:"number",label:e._label("dinggoushuliang"),align:"center",width:e.width},scopedSlots:e._u([{key:"default",fn:function(t){var r=t.row;t.$index;return[a("sp-sizecontent-confirm4",{key:r.key,attrs:{columns:r.product.sizecontents,head:r.form,uniq:r.key,data:e.getInit(r.key),disabled:e.isDisabled},on:{change:e.onNumberChange}})]}}])}),e._v(" "),a("el-table-column",{staticClass:"counter",attrs:{prop:"label",label:e._label("zhekoulv"),width:"70",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){var a=t.row;return[e._v("\n            "+e._s(a.discount)+"\n          ")]}}])}),e._v(" "),a("el-table-column",{attrs:{label:e._label("chengjiaojia"),width:"100",align:"center",prop:"price"},scopedSlots:e._u([{key:"default",fn:function(t){var r=t.row;return[r.order?e._e():a("el-input",{attrs:{size:"mini",disabled:e.isDisabled},model:{value:r.price,callback:function(t){e.$set(r,"price",t)},expression:"row.price"}}),e._v(" "),r.order?a("span",[e._v(e._s(r.price))]):e._e()]}}])}),e._v(" "),a("el-table-column",{attrs:{label:e._label("chengben"),width:"100",align:"center",prop:"price"},scopedSlots:e._u([{key:"default",fn:function(t){var r=t.row;return[r.order?a("span",[e._v(e._s(e.costPrice[r.product.id]))]):e._e()]}}])}),e._v(" "),a("el-table-column",{staticClass:"counter",attrs:{label:e._label("rukuheji"),width:"90",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){var a=t.row;return[e._v("\n            "+e._s(e.count[a.key])+"\n          ")]}}])}),e._v(" "),a("el-table-column",{attrs:{prop:"label",label:e._label("rukuzongjia"),width:"80",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){var a=t.row;return[e._v("\n            "+e._s(e.f(e.count[a.key]*a.price))+"\n          ")]}}])}),e._v(" "),a("el-table-column",{staticClass:"counter",attrs:{label:e._label("fahuoheji"),width:"90",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){var a=t.row;return[e._v("\n            "+e._s(e.shippingCount[a.key])+"\n          ")]}}])}),e._v(" "),a("el-table-column",{attrs:{prop:"label",label:e._label("fahuozongjia"),width:"80",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){var a=t.row;return[e._v("\n            "+e._s(e.f(e.shippingCount[a.key]*a.price))+"\n          ")]}}])}),e._v(" "),a("el-table-column",{attrs:{label:e._label("chanpinmingcheng"),align:"center",width:"200"},scopedSlots:e._u([{key:"default",fn:function(t){var a=t.row;return[e._v("\n            "+e._s(a.product.getName())+"\n          ")]}}])})],1)],1)],1),e._v(" "),a("asa-select-product-dialog",{ref:"products",attrs:{visible:e.pro},on:{"update:visible":function(t){e.pro=t},select:e.onSelectProduct}}),e._v(" "),a("sp-dialog",{ref:"search "},[a("sp-product-search-form",{on:{search:e.search,close:function(t){return e._hideDialog("search")}}})],1),e._v(" "),a("sp-dialog",{ref:"orderpayment",attrs:{width:900}},[a("simple-admin-page",e._b({on:{"after-update":e.loadDetail,"after-delete":e.loadDetail},scopedSlots:e._u([{key:"default",fn:function(t){var r=t.form;return[a("el-form",{ref:"form",staticClass:"user-form",attrs:{model:r,"label-width":"100px",inline:!0,size:"mini"}},[a("el-form-item",{attrs:{label:e._label("feiyongmingcheng")}},[a("simple-select",{staticClass:"width2",attrs:{source:"feename"},model:{value:r.feenameid,callback:function(t){e.$set(r,"feenameid",t)},expression:"form.feenameid"}})],1),e._v(" "),a("el-form-item",{attrs:{label:e._label("bizhong")}},[a("simple-select",{staticClass:"width2",attrs:{source:"currency"},on:{change:function(t){return e.loadExchangerate(r,t)}},model:{value:r.currencyid,callback:function(t){e.$set(r,"currencyid",t)},expression:"form.currencyid"}})],1),e._v(" "),a("el-form-item",{attrs:{label:e._label("jine")}},[a("el-input",{staticClass:"width2",attrs:{size:"mini"},model:{value:r.amount,callback:function(t){e.$set(r,"amount",t)},expression:"form.amount"}})],1),e._v(" "),a("el-form-item",{attrs:{label:e._label("huilv")}},[a("el-input",{staticClass:"width2",attrs:{size:"mini"},model:{value:r.exchangerate,callback:function(t){e.$set(r,"exchangerate",t)},expression:"form.exchangerate"}})],1),e._v(" "),a("el-form-item",{attrs:{label:e._label("beizhu")}},[a("el-input",{staticClass:"width2",attrs:{size:"mini"},model:{value:r.memo,callback:function(t){e.$set(r,"memo",t)},expression:"form.memo"}})],1)],1)]}}])},"simple-admin-page",e.orderpayment,!1))],1),e._v(" "),a("sp-simple-order-list",{ref:"qiancha",attrs:{shippingid:e.form.id}}),e._v(" "),a("asa-product",{ref:"product"})],1)},n=[],o={render:r,staticRenderFns:n};t.a=o}});